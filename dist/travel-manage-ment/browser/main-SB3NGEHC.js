import{$ as mi,A as et,Aa as qt,B as s,Ba as $t,C as We,Ca as Ee,D as u,Da as Te,E as x,Ea as rt,F as Bt,Fa as y,G as oe,Ga as qn,H as ve,Ha as vi,I as b,Ia as He,J as si,Ja as H,K as tt,Ka as bi,L as m,La as at,M as di,Ma as Fe,N,Na as Oe,O as B,Oa as W,P as jt,Pa as ue,Q as Ct,Qa as Wt,R as xt,Ra as Z,S as r,T as o,U as c,V as w,W as p,X as g,Y as Lt,Z as nt,_ as ci,a as ee,aa as pi,b as de,ba as re,c as Ne,ca as a,d as Ln,da as O,e as oi,ea as h,f as Me,fa as Se,g as ri,ga as I,h as ai,ha as D,i as U,ia as V,j as Ie,ja as ye,k as li,ka as ui,l as Ht,la as it,m as xe,ma as Y,n as be,na as Gt,o as Ut,oa as te,p as Ge,pa as ce,q as Ce,qa as gi,r as ze,ra as fi,s as _,sa as Gn,t as C,ta as De,u as qe,ua as ot,v as $e,va as zn,w as Re,wa as hi,x as ie,xa as $,y as _t,ya as R,z as Xe,za as zt}from"./chunk-DZMVJ2XR.js";var Ei=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(u(We),u(_t))};static \u0275dir=oe({type:n})}return n})(),an=(()=>{class n extends Ei{static \u0275fac=(()=>{let e;return function(l){return(e||(e=Re(n)))(l||n)}})();static \u0275dir=oe({type:n,features:[ve]})}return n})(),ct=new Ge("");var io={provide:ct,useExisting:xe(()=>M),multi:!0};function oo(){let n=zn()?zn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var ro=new Ge(""),M=(()=>{class n extends Ei{_compositionMode;_composing=!1;constructor(e,i,l){super(e,i),this._compositionMode=l,this._compositionMode==null&&(this._compositionMode=!oo())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(u(We),u(_t),u(ro,8))};static \u0275dir=oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,l){i&1&&p("input",function(f){return l._handleInput(f.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(f){return l._compositionEnd(f.target.value)})},standalone:!1,features:[ye([io]),ve]})}return n})();function Jn(n){return n==null||Zn(n)===0}function Zn(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Je=new Ge(""),ln=new Ge(""),ao=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,v=class{static min(t){return Fi(t)}static max(t){return Oi(t)}static required(t){return Ai(t)}static requiredTrue(t){return lo(t)}static email(t){return so(t)}static minLength(t){return co(t)}static maxLength(t){return mo(t)}static pattern(t){return po(t)}static nullValidator(t){return Jt()}static compose(t){return Ti(t)}static composeAsync(t){return Hi(t)}};function Fi(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Oi(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Ai(n){return Jn(n.value)?{required:!0}:null}function lo(n){return n.value===!0?null:{required:!0}}function so(n){return Jn(n.value)||ao.test(n.value)?null:{email:!0}}function co(n){return t=>{let e=t.value?.length??Zn(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function mo(n){return t=>{let e=t.value?.length??Zn(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function po(n){if(!n)return Jt;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Jn(i.value))return null;let l=i.value;return t.test(l)?null:{pattern:{requiredPattern:e,actualValue:l}}}}function Jt(n){return null}function Ii(n){return n!=null}function Di(n){return si(n)?oi(n):n}function Vi(n){let t={};return n.forEach(e=>{t=e!=null?ee(ee({},t),e):t}),Object.keys(t).length===0?null:t}function Ni(n,t){return t.map(e=>e(n))}function uo(n){return!n.validate}function Ri(n){return n.map(t=>uo(t)?t:e=>t.validate(e))}function Ti(n){if(!n)return null;let t=n.filter(Ii);return t.length==0?null:function(e){return Vi(Ni(e,t))}}function Kn(n){return n!=null?Ti(Ri(n)):null}function Hi(n){if(!n)return null;let t=n.filter(Ii);return t.length==0?null:function(e){let i=Ni(e,t).map(Di);return ai(i).pipe(ri(Vi))}}function Qn(n){return n!=null?Hi(Ri(n)):null}function _i(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ui(n){return n._rawValidators}function Bi(n){return n._rawAsyncValidators}function $n(n){return n?Array.isArray(n)?n:[n]:[]}function Zt(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ci(n,t){let e=$n(t);return $n(n).forEach(l=>{Zt(e,l)||e.push(l)}),e}function xi(n,t){return $n(t).filter(e=>!Zt(n,e))}var Kt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Kn(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Qn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ve=class extends Kt{name;get formDirective(){return null}get path(){return null}},Ye=class extends Kt{_parent=null;name=null;valueAccessor=null},Qt=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},go={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xl=de(ee({},go),{"[class.ng-submitted]":"isSubmitted"}),k=(()=>{class n extends Qt{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(u(Ye,2))};static \u0275dir=oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,l){i&2&&N("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)},standalone:!1,features:[ve]})}return n})(),P=(()=>{class n extends Qt{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(u(Ve,10))};static \u0275dir=oe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,l){i&2&&N("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)("ng-submitted",l.isSubmitted)},standalone:!1,features:[ve]})}return n})();var yt="VALID",Yt="INVALID",lt="PENDING",wt="DISABLED",Ue=class{},Xt=class extends Ue{value;source;constructor(t,e){super(),this.value=t,this.source=e}},St=class extends Ue{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},kt=class extends Ue{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},st=class extends Ue{status;source;constructor(t,e){super(),this.status=t,this.source=e}},en=class extends Ue{source;constructor(t){super(),this.source=t}},tn=class extends Ue{source;constructor(t){super(),this.source=t}};function Xn(n){return(sn(n)?n.validators:n)||null}function fo(n){return Array.isArray(n)?Kn(n):n||null}function ei(n,t){return(sn(t)?t.asyncValidators:n)||null}function ho(n){return Array.isArray(n)?Qn(n):n||null}function sn(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ji(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Ht(1e3,"");if(!i[e])throw new Ht(1001,"")}function Li(n,t,e){n._forEachChild((i,l)=>{if(e[l]===void 0)throw new Ht(1002,"")})}var dt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return De(this.statusReactive)}set status(t){De(()=>this.statusReactive.set(t))}_status=ot(()=>this.statusReactive());statusReactive=Xe(void 0);get valid(){return this.status===yt}get invalid(){return this.status===Yt}get pending(){return this.status==lt}get disabled(){return this.status===wt}get enabled(){return this.status!==wt}errors;get pristine(){return De(this.pristineReactive)}set pristine(t){De(()=>this.pristineReactive.set(t))}_pristine=ot(()=>this.pristineReactive());pristineReactive=Xe(!0);get dirty(){return!this.pristine}get touched(){return De(this.touchedReactive)}set touched(t){De(()=>this.touchedReactive.set(t))}_touched=ot(()=>this.touchedReactive());touchedReactive=Xe(!1);get untouched(){return!this.touched}_events=new Ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ci(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ci(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(xi(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(xi(t,this._rawAsyncValidators))}hasValidator(t){return Zt(this._rawValidators,t)}hasAsyncValidator(t){return Zt(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(de(ee({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new kt(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(l=>{l.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new kt(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(de(ee({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new St(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(l=>{l.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new St(!0,i))}markAsPending(t={}){this.status=lt;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new st(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(de(ee({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=wt,this.errors=null,this._forEachChild(l=>{l.disable(de(ee({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xt(this.value,i)),this._events.next(new st(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(ee({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(l=>l(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=yt,this._forEachChild(i=>{i.enable(de(ee({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(de(ee({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yt||this.status===lt)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xt(this.value,e)),this._events.next(new st(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(de(ee({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wt:yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=lt,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Di(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(l=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(l,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,l)=>i&&i._find(l),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new st(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?wt:this.errors?Yt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lt)?lt:this._anyControlsHaveStatus(Yt)?Yt:yt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),l=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),l&&this._events.next(new St(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new kt(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sn(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=fo(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ho(this._rawAsyncValidators)}},Be=class extends dt{constructor(t,e,i){super(Xn(e),ei(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Li(this,!0,t),Object.keys(t).forEach(i=>{ji(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let l=this.controls[i];l&&l.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,l)=>{i.reset(t?t[l]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,l)=>((i.enabled||this.disabled)&&(e[l]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((l,d)=>{i=e(i,l,d)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Wn=class extends Be{};var Et=new Ge("",{providedIn:"root",factory:()=>dn}),dn="always";function Gi(n,t){return[...t.path,n]}function nn(n,t,e=dn){ti(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),bo(n,t),Co(n,t),_o(n,t),vo(n,t)}function yi(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),rn(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function on(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function vo(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function ti(n,t){let e=Ui(n);t.validator!==null?n.setValidators(_i(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Bi(n);t.asyncValidator!==null?n.setAsyncValidators(_i(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let l=()=>n.updateValueAndValidity();on(t._rawValidators,l),on(t._rawAsyncValidators,l)}function rn(n,t){let e=!1;if(n!==null){if(t.validator!==null){let l=Ui(n);if(Array.isArray(l)&&l.length>0){let d=l.filter(f=>f!==t.validator);d.length!==l.length&&(e=!0,n.setValidators(d))}}if(t.asyncValidator!==null){let l=Bi(n);if(Array.isArray(l)&&l.length>0){let d=l.filter(f=>f!==t.asyncValidator);d.length!==l.length&&(e=!0,n.setAsyncValidators(d))}}}let i=()=>{};return on(t._rawValidators,i),on(t._rawAsyncValidators,i),e}function bo(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&zi(n,t)})}function _o(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&zi(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function zi(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Co(n,t){let e=(i,l)=>{t.valueAccessor.writeValue(i),l&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function qi(n,t){n==null,ti(n,t)}function xo(n,t){return rn(n,t)}function $i(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function yo(n){return Object.getPrototypeOf(n.constructor)===an}function Wi(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Yi(n,t){if(!t)return null;Array.isArray(t);let e,i,l;return t.forEach(d=>{d.constructor===M?e=d:yo(d)?i=d:l=d}),l||i||e||null}function wo(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var Mo={provide:Ve,useExisting:xe(()=>me)},Mt=Promise.resolve(),me=(()=>{class n extends Ve{callSetDisabledState;get submitted(){return De(this.submittedReactive)}_submitted=ot(()=>this.submittedReactive());submittedReactive=Xe(!1);_directives=new Set;form;ngSubmit=new ie;options;constructor(e,i,l){super(),this.callSetDisabledState=l,this.form=new Be({},Kn(e),Qn(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Mt.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),nn(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Mt.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Mt.then(()=>{let i=this._findContainer(e.path),l=new Be({});qi(l,e),i.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Mt.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Mt.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Wi(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new en(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new tn(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(u(Je,10),u(ln,10),u(Et,8))};static \u0275dir=oe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,l){i&1&&p("submit",function(f){return l.onSubmit(f)})("reset",function(){return l.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ye([Mo]),ve]})}return n})();function wi(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Mi(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Pt=class extends dt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(Xn(e),ei(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sn(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Mi(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wi(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wi(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Mi(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var So=n=>n instanceof Pt;var ko={provide:Ye,useExisting:xe(()=>pe)},Si=Promise.resolve(),pe=(()=>{class n extends Ye{_changeDetectorRef;callSetDisabledState;control=new Pt;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ie;constructor(e,i,l,d,f,F){super(),this._changeDetectorRef=f,this.callSetDisabledState=F,this._parent=e,this._setValidators(i),this._setAsyncValidators(l),this.valueAccessor=Yi(this,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),$i(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Si.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,l=i!==0&&Gn(i);Si.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Gi(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(u(Ve,9),u(Je,10),u(ln,10),u(ct,10),u(fi,8),u(Et,8))};static \u0275dir=oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ye([ko]),ve,ze]})}return n})();var E=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=oe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Po={provide:ct,useExisting:xe(()=>J),multi:!0},J=(()=>{class n extends an{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(l){return(e||(e=Re(n)))(l||n)}})();static \u0275dir=oe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,l){i&1&&p("input",function(f){return l.onChange(f.target.value)})("blur",function(){return l.onTouched()})},standalone:!1,features:[ye([Po]),ve]})}return n})();var Ji=new Ge("");var Eo={provide:Ve,useExisting:xe(()=>j)},j=(()=>{class n extends Ve{callSetDisabledState;get submitted(){return De(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ot(()=>this._submittedReactive());_submittedReactive=Xe(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ie;constructor(e,i,l){super(),this.callSetDisabledState=l,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return nn(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){yi(e.control||null,e,!1),wo(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),Wi(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new en(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new tn(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,l=this.form.get(e.path);i!==l&&(yi(i||null,e),So(l)&&(nn(l,e,this.callSetDisabledState),e.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);qi(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&xo(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ti(this.form,this),this._oldForm&&rn(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(u(Je,10),u(ln,10),u(Et,8))};static \u0275dir=oe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,l){i&1&&p("submit",function(f){return l.onSubmit(f)})("reset",function(){return l.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ye([Eo]),ve,ze]})}return n})();var Fo={provide:Ye,useExisting:xe(()=>L)},L=(()=>{class n extends Ye{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ie;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,l,d,f){super(),this._ngModelWarningConfig=f,this._parent=e,this._setValidators(i),this._setAsyncValidators(l),this.valueAccessor=Yi(this,d)}ngOnChanges(e){this._added||this._setUpControl(),$i(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Gi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(u(Ve,13),u(Je,10),u(ln,10),u(ct,10),u(Ji,8))};static \u0275dir=oe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ye([Fo]),ve,ze]})}return n})();var Oo={provide:ct,useExisting:xe(()=>je),multi:!0};function Zi(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Ao(n){return n.split(":")[0]}var je=(()=>{class n extends an{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i=this._getOptionId(e),l=Zi(i,e);this.setProperty("value",l)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=Ao(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(l){return(e||(e=Re(n)))(l||n)}})();static \u0275dir=oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,l){i&1&&p("change",function(f){return l.onChange(f.target.value)})("blur",function(){return l.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ye([Oo]),ve]})}return n})(),mt=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,l){this._element=e,this._renderer=i,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Zi(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(u(_t),u(We),u(je,9))};static \u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Io={provide:ct,useExisting:xe(()=>Ki),multi:!0};function ki(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Do(n){return n.split(":")[0]}var Ki=(()=>{class n extends an{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let l=e.map(d=>this._getOptionId(d));i=(d,f)=>{d._setSelected(l.indexOf(f.toString())>-1)}}else i=(l,d)=>{l._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let l=[],d=i.selectedOptions;if(d!==void 0){let f=d;for(let F=0;F<f.length;F++){let q=f[F],_e=this._getOptionValue(q.value);l.push(_e)}}else{let f=i.options;for(let F=0;F<f.length;F++){let q=f[F];if(q.selected){let _e=this._getOptionValue(q.value);l.push(_e)}}}this.value=l,e(l)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=Do(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(l){return(e||(e=Re(n)))(l||n)}})();static \u0275dir=oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,l){i&1&&p("change",function(f){return l.onChange(f.target)})("blur",function(){return l.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ye([Io]),ve]})}return n})(),pt=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,l){this._element=e,this._renderer=i,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ki(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ki(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(u(_t),u(We),u(Ki,9))};static \u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Qi(n){return typeof n=="number"?n:parseFloat(n)}var ni=(()=>{class n{_validator=Jt;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jt,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=oe({type:n,features:[ze]})}return n})(),Vo={provide:Je,useExisting:xe(()=>Ft),multi:!0},Ft=(()=>{class n extends ni{max;inputName="max";normalizeInput=e=>Qi(e);createValidator=e=>Oi(e);static \u0275fac=(()=>{let e;return function(l){return(e||(e=Re(n)))(l||n)}})();static \u0275dir=oe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,l){i&2&&tt("max",l._enabled?l.max:null)},inputs:{max:"max"},standalone:!1,features:[ye([Vo]),ve]})}return n})(),No={provide:Je,useExisting:xe(()=>ke),multi:!0},ke=(()=>{class n extends ni{min;inputName="min";normalizeInput=e=>Qi(e);createValidator=e=>Fi(e);static \u0275fac=(()=>{let e;return function(l){return(e||(e=Re(n)))(l||n)}})();static \u0275dir=oe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,l){i&2&&tt("min",l._enabled?l.min:null)},inputs:{min:"min"},standalone:!1,features:[ye([No]),ve]})}return n})(),Ro={provide:Je,useExisting:xe(()=>X),multi:!0};var X=(()=>{class n extends ni{required;inputName="required";normalizeInput=Gn;createValidator=e=>Ai;enabled(e){return e}static \u0275fac=(()=>{let e;return function(l){return(e||(e=Re(n)))(l||n)}})();static \u0275dir=oe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,l){i&2&&tt("required",l._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ye([Ro]),ve]})}return n})();var Xi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Bt({type:n});static \u0275inj=Ut({})}return n})(),Yn=class extends dt{constructor(t,e,i){super(Xn(e),ei(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let l=this._adjustIndex(t);l<0&&(l=0),this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),this.controls.splice(l,1),e&&(this.controls.splice(l,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Li(this,!1,t),t.forEach((i,l)=>{ji(this,!1,l),this.at(l).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,l)=>{this.at(l)&&this.at(l).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,l)=>{i.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Pi(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var G=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let l=this._reduceControls(e),d={};return Pi(i)?d=i:i!==null&&(d.validators=i.validator,d.asyncValidators=i.asyncValidator),new Be(l,d)}record(e,i=null){let l=this._reduceControls(e);return new Wn(l,i)}control(e,i,l){let d={};return this.useNonNullable?(Pi(i)?d=i:(d.validators=i,d.asyncValidators=l),new Pt(e,de(ee({},d),{nonNullable:!0}))):new Pt(e,i,l)}array(e,i,l){let d=e.map(f=>this._createControl(f));return new Yn(d,i,l)}_reduceControls(e){let i={};return Object.keys(e).forEach(l=>{i[l]=this._createControl(e[l])}),i}_createControl(e){if(e instanceof Pt)return e;if(e instanceof dt)return e;if(Array.isArray(e)){let i=e[0],l=e.length>1?e[1]:null,d=e.length>2?e[2]:null;return this.control(i,l,d)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Et,useValue:e.callSetDisabledState??dn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Bt({type:n});static \u0275inj=Ut({imports:[Xi]})}return n})(),z=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ji,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Et,useValue:e.callSetDisabledState??dn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Bt({type:n});static \u0275inj=Ut({imports:[Xi]})}return n})();var ge=class n{constructor(t){this.http=t}baseUrl="http://localhost:9070";getAllHotels(){return this.http.get(`${this.baseUrl}/hotels`).pipe(U(this.handleError))}getHotelById(t){return this.http.get(`${this.baseUrl}/hotels/${t}`).pipe(U(this.handleError))}getAvailableHotels(t,e){return this.http.get(`${this.baseUrl}/hotel-availability?location=${t}&date=${e}`).pipe(U(this.handleError))}getHotelAvailability(t,e){let i=new He().set("hotelId",t.toString()).set("date",e);return this.http.get(`${this.baseUrl}/hotel-availability/single`,{params:i}).pipe(U(this.handleError))}createHotel(t){return this.http.post(`${this.baseUrl}/hotels/create`,t).pipe(U(this.handleError))}updateHotel(t,e){return this.http.put(`${this.baseUrl}/hotels/${t}`,e).pipe(U(this.handleError))}deleteHotel(t){return this.http.delete(`${this.baseUrl}/hotels/${t}`).pipe(U(this.handleError))}createHotelAvailability(t){return this.http.post(`${this.baseUrl}/hotel-availability/create`,t).pipe(U(this.handleError))}handleError(t){let e="An error occurred";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:e=`Error Code: ${t.status}
Message: ${t.error?.message||t.message}`,console.error(e),Me(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(Ce(H))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})};var he=class n{constructor(t){this.http=t}baseUrl="http://localhost:9070/api/review";getReviews(){return this.http.get(this.baseUrl).pipe(U(this.handleError))}getReviewById(t){return this.http.get(`${this.baseUrl}/${t}`).pipe(U(this.handleError))}getReviewsByHotelId(t){return this.http.get(`${this.baseUrl}/hotel/${t}`).pipe(U(this.handleError))}getReviewsByUserId(t){return this.http.get(`${this.baseUrl}/user/${t}`).pipe(U(this.handleError))}getReviewsWithRatingAbove(t){return t<1||t>5?Me(()=>new Error("Rating must be between 1 and 5")):this.http.get(`${this.baseUrl}/rating/above/${t}`).pipe(U(this.handleError))}addReview(t){return this.validateReview(t)?this.http.post(`${this.baseUrl}/user/postReview`,t).pipe(U(this.handleError)):Me(()=>new Error("Invalid review data"))}getAverageRatingByHotelId(t){return this.http.get(`${this.baseUrl}/hotel/${t}/average-rating`).pipe(U(this.handleError))}updateReview(t,e){return this.validateReview(e)?this.http.put(`${this.baseUrl}/user/update/${t}`,e).pipe(U(this.handleError)):Me(()=>new Error("Invalid review data"))}deleteReview(t){return this.http.delete(`${this.baseUrl}/user/delete/${t}`).pipe(U(this.handleError))}validateReview(t){return!!(t&&t.hotel?.hotelId&&t.user?.userId&&t.rating>=1&&t.rating<=5&&t.comment?.trim())}handleError(t){let e="An error occurred";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:e=`Error Code: ${t.status}
Message: ${t.error?.message||t.message}`,console.error(e),Me(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(Ce(H))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})};function To(n,t){n&1&&(r(0,"div",21),a(1," Check-out date must be after check-in date "),o())}function Ho(n,t){if(n&1){let e=w();r(0,"div",24)(1,"div",25),p("click",function(){let l=_(e).$implicit,d=g(3);return C(d.onBookNow(l.hotel.hotelId))}),c(2,"img",26),r(3,"div",27)(4,"h5",28),a(5),o(),r(6,"p",29),c(7,"i",30),a(8),o(),r(9,"div",31)(10,"span",32),a(11),Y(12,"number"),o(),r(13,"span",33),a(14),o()(),r(15,"h4",34),a(16),Y(17,"currency"),r(18,"small",33),a(19,"/night"),o()()()()()}if(n&2){let e=t.$implicit,i=g(3);s(),tt("aria-label","Book "+e.hotel.name),s(4),O(e.hotel.name),s(3),h("",e.hotel.location," "),s(3),h("\u2605 ",te(12,6,i.getHotelRating(e.hotel.hotelId),"1.1-1"),""),s(3),h("(",e.capacity," rooms available)"),s(2),h(" ",te(17,9,e.hotel.pricePerNight,"INR")," ")}}function Uo(n,t){if(n&1&&(r(0,"div")(1,"div",22),b(2,Ho,20,12,"div",23),o()()),n&2){let e=g(2);s(2),m("ngForOf",e.filteredHotels)}}function Bo(n,t){n&1&&(r(0,"div",35),c(1,"i",36),a(2," No hotels found for the specified criteria. "),o())}function jo(n,t){if(n&1&&(r(0,"div"),b(1,Uo,3,1,"div",20)(2,Bo,3,0,"ng-template",null,1,ce),o()),n&2){let e=re(3),i=g();s(),m("ngIf",i.filteredHotels.length>0)("ngIfElse",e)}}function Lo(n,t){if(n&1&&(r(0,"div",24)(1,"div",37),c(2,"img",38),r(3,"div",27)(4,"h5",28),a(5),o(),r(6,"p",29),c(7,"i",30),a(8),o(),r(9,"div",31)(10,"span",32),a(11),Y(12,"number"),o()(),r(13,"h4",34),a(14),Y(15,"currency"),r(16,"small",33),a(17,"/night"),o()()()()()),n&2){let e=t.$implicit,i=g(2);s(2),Lt("alt",e.name),s(3),O(e.name),s(3),h("",e.location," "),s(3),h("\u2605 ",te(12,5,i.getHotelRating(e.hotelId),"1.1-1"),""),s(3),h(" ",te(15,8,e.pricePerNight,"INR")," ")}}function Go(n,t){if(n&1&&(r(0,"div",22),b(1,Lo,18,11,"div",23),o()),n&2){let e=g();s(),m("ngForOf",e.allHotels)}}var ut=class n{constructor(t,e,i,l){this.fb=t;this.hotelService=e;this.reviewService=i;this.router=l;this.searchForm=this.fb.group({location:[""],checkIn:[""],checkOut:[""],guestsRooms:[""]}),this.searchForm.get("checkIn")?.valueChanges.subscribe(d=>{this.searchForm.get("checkOut")?.value&&this.validateCheckOutDate()})}searchForm;allHotels=[];filteredHotels=null;isLoading=!1;errorMessage="";hotelRatings={};ngOnInit(){this.loadAllHotels()}validateCheckOutDate(){let t=new Date(this.searchForm.get("checkIn")?.value);new Date(this.searchForm.get("checkOut")?.value)<=t&&this.searchForm.get("checkOut")?.setErrors({invalidDate:!0})}loadAllHotels(){this.isLoading=!0,this.hotelService.getAllHotels().subscribe({next:t=>{this.allHotels=t,this.loadHotelRatings(),this.isLoading=!1},error:t=>{this.allHotels=[],this.errorMessage="Failed to load hotels",this.isLoading=!1,console.error(t)}})}loadHotelRatings(){this.allHotels.forEach(t=>{this.reviewService.getReviewsByHotelId(t.hotelId).subscribe({next:e=>{let i=e.reduce((d,f)=>d+f.rating,0),l=e.length>0?i/e.length:0;this.hotelRatings[t.hotelId]=l},error:e=>{console.error(`Failed to load reviews for hotel ID ${t.hotelId}`,e),this.hotelRatings[t.hotelId]=0}})})}onSearch(){let t=this.searchForm.value.location,e=this.searchForm.value.checkIn;if(!t||!e){this.filteredHotels=null;return}this.isLoading=!0,this.hotelService.getAvailableHotels(t,e).subscribe({next:i=>{this.filteredHotels=i,this.isLoading=!1},error:i=>{this.filteredHotels=[],this.errorMessage="Failed to find available hotels",this.isLoading=!1,console.error(i)}})}onBookNow(t){let e={checkIn:this.searchForm.get("checkIn")?.value||"",checkOut:this.searchForm.get("checkOut")?.value||"",guestsRooms:this.searchForm.get("guestsRooms")?.value||"1|1"};this.router.navigate(["/hotel-booking",t],{queryParams:e,queryParamsHandling:"merge"})}getHotelRating(t){return this.hotelRatings[t]||0}static \u0275fac=function(e){return new(e||n)(u(G),u(ge),u(he),u(W))};static \u0275cmp=x({type:n,selectors:[["app-hotels"]],decls:35,vars:6,consts:[["showAll",""],["noHotels",""],[1,"container","my-4"],[1,"bg-white","p-4","rounded","shadow","mx-auto","form",2,"max-width","1100px",3,"ngSubmit","formGroup"],[1,"row","align-items-end","g-3"],[1,"col-md-3"],[1,"form-label","fw-bold"],["type","text","formControlName","location","placeholder","Enter city or location",1,"form-control"],["type","date","formControlName","checkIn",1,"form-control"],["type","date","formControlName","checkOut",1,"form-control",3,"change"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-2"],["formControlName","guestsRooms",1,"form-select"],["value","1|1"],["value","2|1"],["value","2|2"],["value","4|2"],[1,"col-md-1","d-flex","align-items-end"],["type","submit",1,"btn","btn-warning","w-100","py-2"],[1,"mt-4"],[4,"ngIf","ngIfElse"],[1,"invalid-feedback"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","hotel-card","h-100",3,"click"],["src","/assets/hotel-default.jpg","alt","Hotel room image",1,"card-img-top"],[1,"card-body"],[1,"card-title","text-truncate"],[1,"card-text","text-muted","mb-1"],[1,"fas","fa-map-marker-alt","me-2"],[1,"d-flex","align-items-center","mb-2"],[1,"badge","bg-success","me-2"],[1,"text-muted"],[1,"text-primary","mb-0"],[1,"alert","alert-warning","text-center"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"card","hotel-card","h-100"],["src","/assets/hotel-default.jpg",1,"card-img-top",3,"alt"]],template:function(e,i){if(e&1){let l=w();r(0,"div",2)(1,"form",3),p("ngSubmit",function(){return _(l),C(i.onSearch())}),r(2,"div",4)(3,"div",5)(4,"label",6),a(5,"Where to"),o(),c(6,"input",7),o(),r(7,"div",5)(8,"label",6),a(9,"Check-in"),o(),c(10,"input",8),o(),r(11,"div",5)(12,"label",6),a(13,"Check-out"),o(),r(14,"input",9),p("change",function(){return _(l),C(i.validateCheckOutDate())}),o(),b(15,To,2,0,"div",10),o(),r(16,"div",11)(17,"label",6),a(18,"Guests & Rooms"),o(),r(19,"select",12)(20,"option",13),a(21,"1 Adult | 1 Room"),o(),r(22,"option",14),a(23,"2 Adults | 1 Room"),o(),r(24,"option",15),a(25,"2 Adults | 2 Rooms"),o(),r(26,"option",16),a(27,"4 Adults | 2 Rooms"),o()()(),r(28,"div",17)(29,"button",18),a(30," Search "),o()()()(),r(31,"div",19),b(32,jo,4,2,"div",20)(33,Go,2,1,"ng-template",null,0,ce),o()()}if(e&2){let l,d,f=re(34);s(),m("formGroup",i.searchForm),s(13),N("is-invalid",(l=i.searchForm.get("checkOut"))==null||l.errors==null?null:l.errors.invalidDate),s(),m("ngIf",(d=i.searchForm.get("checkOut"))==null||d.errors==null?null:d.errors.invalidDate),s(17),m("ngIf",i.filteredHotels!==null)("ngIfElse",f)}},dependencies:[y,$,R,Te,rt,z,E,mt,pt,M,je,k,P,j,L,Z],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s,box-shadow .2s}.form[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:-100px;background:#fffc;padding:20px;border-radius:10px;box-shadow:0 4px 15px #0003}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 15px #0000001a}.hotel-card[_ngcontent-%COMP%]{border:none;border-radius:10px;overflow:hidden;box-shadow:0 4px 15px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.hotel-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 20px #0003}.hotel-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover}.badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.5rem .75rem}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:1rem}.card-text[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin-bottom:1rem}}"]})};var Le=class n{constructor(t){this.http=t}baseUrl="http://localhost:9070";getAllFlights(){return this.http.get(`${this.baseUrl}/flights`).pipe(U(this.handleError))}getFlightById(t){return this.http.get(`${this.baseUrl}/flights/${t}`).pipe(U(this.handleError))}searchFlights(t,e,i){let l=new He().set("source",t).set("destination",e).set("date",i);return this.http.get(`${this.baseUrl}/api/searchByDate`,{params:l}).pipe(U(this.handleError))}createFlight(t){return this.http.post(`${this.baseUrl}/flights/create`,t).pipe(U(this.handleError))}updateFlight(t,e){return this.http.put(`${this.baseUrl}/flights/${t}`,e).pipe(U(this.handleError))}deleteFlight(t){return this.http.delete(`${this.baseUrl}/flights/${t}`).pipe(U(this.handleError))}getFlightAvailability(t){return this.http.get(`${this.baseUrl}/api/flightAvailability/${t}`).pipe(U(this.handleError))}createFlightAvailability(t){return this.http.post(`${this.baseUrl}/api/flightAvailability/create`,t).pipe(U(this.handleError))}handleError(t){let e="An error occurred";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:e=`Error Code: ${t.status}
Message: ${t.error?.message||t.message}`,console.error(e),Me(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(Ce(H))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})};var eo=n=>["/flight-booking",n];function zo(n,t){if(n&1&&(r(0,"div",21)(1,"div",22)(2,"div",23)(3,"div")(4,"h5",24),a(5),o(),r(6,"p",25),a(7),o(),r(8,"p",25),a(9),o()(),r(10,"div",26)(11,"h4",27),a(12),o(),r(13,"button",28),a(14,"Book Now"),o()()()()()),n&2){let e=t.$implicit;s(5),Se("",e.flight.departureCity," \u2192 ",e.flight.destinationCity,""),s(2),h("Departure: ",e.flight.departureTime,""),s(2),h("Available Seats: ",e.availableSeats,""),s(3),h("\u20B9",e.flight.price,""),s(),m("routerLink",it(6,eo,e.flight.id))}}function qo(n,t){if(n&1&&(r(0,"div")(1,"div",19),b(2,zo,15,8,"div",20),o()()),n&2){let e=g(2);s(2),m("ngForOf",e.filteredFlights)}}function $o(n,t){n&1&&(r(0,"p",29),a(1,"No flights found for the specified criteria."),o())}function Wo(n,t){if(n&1&&(r(0,"div"),b(1,qo,3,1,"div",18)(2,$o,2,0,"ng-template",null,1,ce),o()),n&2){let e=re(3),i=g();s(),m("ngIf",i.filteredFlights.length>0)("ngIfElse",e)}}function Yo(n,t){if(n&1&&(r(0,"div",21)(1,"div",22)(2,"div",23)(3,"div")(4,"h5",24),a(5),o(),r(6,"p",25),a(7),o(),r(8,"p",25),a(9),o()(),r(10,"div",26)(11,"h4",27),a(12),o(),r(13,"a",28),a(14," Book Now "),o()()()()()),n&2){let e=t.$implicit;s(5),Se("",e.departureCity," \u2192 ",e.destinationCity,""),s(2),h("Departure: ",e.departureTime,""),s(2),h("Total Seats: ",e.totalSeats,""),s(3),h("\u20B9",e.price,""),s(),m("routerLink",it(6,eo,e.id))}}function Jo(n,t){if(n&1&&(r(0,"div",19),b(1,Yo,15,8,"div",20),o()),n&2){let e=g();s(),m("ngForOf",e.allFlights)}}var gt=class n{constructor(t,e,i){this.fb=t;this.flightService=e;this.router=i;this.initForm()}searchForm;allFlights=[];filteredFlights=null;isLoading=!1;errorMessage="";initForm(){this.searchForm=this.fb.group({from:["",v.required],to:["",v.required],departureDate:["",v.required],travelers:["1 Adult"]})}ngOnInit(){this.loadAllFlights()}loadAllFlights(){this.isLoading=!0,this.flightService.getAllFlights().subscribe({next:t=>{this.allFlights=t,this.isLoading=!1},error:t=>{this.errorMessage="Error loading flights",this.isLoading=!1,console.error("Error:",t)}})}onSearch(){if(this.searchForm.valid){let{from:t,to:e,departureDate:i}=this.searchForm.value;this.isLoading=!0,this.flightService.searchFlights(t,e,i).subscribe({next:l=>{this.filteredFlights=l,this.isLoading=!1},error:l=>{this.errorMessage="Error searching flights",this.isLoading=!1,console.error("Error:",l)}})}}bookFlight(t){t&&(this.router.navigate(["/flight-booking",t]),console.log("Booking flight with ID:",t))}navigateToBooking(t){console.log("Navigating to booking for flight:",t),this.router.navigate(["/flight-booking",t])}static \u0275fac=function(e){return new(e||n)(u(G),u(Le),u(W))};static \u0275cmp=x({type:n,selectors:[["app-flights"]],decls:32,vars:3,consts:[["showAll",""],["noFlights",""],[1,"container","my-4"],[1,"bg-white","p-4","rounded","shadow","mx-auto","form",2,"max-width","1100px",3,"ngSubmit","formGroup"],[1,"row","align-items-end","g-3"],[1,"col-md-3"],[1,"form-label","fw-bold"],["type","text","formControlName","from","placeholder","Enter city or airport",1,"form-control"],["type","text","formControlName","to","placeholder","Enter city or airport",1,"form-control"],[1,"col-md-2"],["type","date","formControlName","departureDate",1,"form-control"],["formControlName","travelers",1,"form-select"],["value","1 Adult"],["value","2 Adults"],["value","Family"],[1,"col-md-1","d-flex","align-items-end"],["type","submit",1,"btn","btn-warning","w-120",2,"height","40px","font-weight","500","font-size","1.1rem","border-radius","6px"],[1,"mt-4"],[4,"ngIf","ngIfElse"],[1,"row"],["class","col-12 mb-3",4,"ngFor","ngForOf"],[1,"col-12","mb-3"],[1,"card","h-100","position-relative"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"card-text"],[1,"text-end"],[1,"text-primary"],[1,"btn","btn-primary",3,"routerLink"],[1,"text-center","text-danger"]],template:function(e,i){if(e&1){let l=w();r(0,"div",2)(1,"form",3),p("ngSubmit",function(){return _(l),C(i.onSearch())}),r(2,"div",4)(3,"div",5)(4,"label",6),a(5,"From"),o(),c(6,"input",7),o(),r(7,"div",5)(8,"label",6),a(9,"To"),o(),c(10,"input",8),o(),r(11,"div",9)(12,"label",6),a(13,"Departure"),o(),c(14,"input",10),o(),r(15,"div",5)(16,"label",6),a(17,"Travelers & Class"),o(),r(18,"select",11)(19,"option",12),a(20,"1 Adult | Economy"),o(),r(21,"option",13),a(22,"2 Adults | Economy"),o(),r(23,"option",14),a(24,"2 Adults, 2 Children | Economy"),o()()(),r(25,"div",15)(26,"button",16),a(27," Search "),o()()()(),r(28,"div",17),b(29,Wo,4,2,"div",18)(30,Jo,2,1,"ng-template",null,0,ce),o()()}if(e&2){let l=re(31);s(),m("formGroup",i.searchForm),s(28),m("ngIf",i.filteredFlights!==null)("ngIfElse",l)}},dependencies:[y,$,R,z,E,mt,pt,M,je,k,P,j,L,Z,ue],styles:[".form[_ngcontent-%COMP%]{position:relative;z-index:2;margin-top:-100px;background:#fffc;padding:20px;border-radius:10px;box-shadow:0 4px 15px #0003}.card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 15px #0000001a}.btn-warning[_ngcontent-%COMP%]{color:#fff;background-color:#ff5722;border-color:#ff5722}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#f4511e;border-color:#f4511e}"]})};var Qe=class extends Error{};Qe.prototype.name="InvalidTokenError";function Zo(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function Ko(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Zo(t)}catch{return atob(t)}}function we(n,t){if(typeof n!="string")throw new Qe("Invalid token specified: must be a string");t||(t={});let e=t.header===!0?0:1,i=n.split(".")[e];if(typeof i!="string")throw new Qe(`Invalid token specified: missing part #${e+1}`);let l;try{l=Ko(i)}catch(d){throw new Qe(`Invalid token specified: invalid base64 for part #${e+1} (${d.message})`)}try{return JSON.parse(l)}catch(d){throw new Qe(`Invalid token specified: invalid json for part #${e+1} (${d.message})`)}}function Qo(n,t){n&1&&(r(0,"div",19)(1,"div",20)(2,"span",21),a(3,"Loading..."),o()()())}function Xo(n,t){if(n&1&&(r(0,"div",22),a(1),o()),n&2){let e=g();s(),h(" ",e.errorMessage,`
`)}}function er(n,t){if(n&1){let e=w();r(0,"div",23)(1,"div",24),c(2,"img",25),r(3,"div",26)(4,"h5",27),a(5),o(),r(6,"p",28),a(7),o(),r(8,"p",29),a(9),Y(10,"date"),Y(11,"date"),o(),r(12,"h5",30),a(13),Y(14,"number"),o(),r(15,"button",31),p("click",function(){let l=_(e).$implicit,d=g();return C(d.bookNow(l.packageId))}),a(16," Book Now "),o()()()()}if(n&2){let e=t.$implicit;s(2),Lt("src",e.imageUrl||"/assets/pexels-pixabay-221471.jpg",et),s(3),O(e.name),s(2),Se(" ",e.noOfDays," Days ",e.type," "),s(2),Se(" ",te(10,7,e.startDate,"EEE d/M")," \u2192 ",te(11,10,e.endDate,"EEE d/M")," "),s(4),h(" from \u20B9",Gt(14,13,e.price)," ")}}var ft=class n{constructor(t,e){this.http=t;this.router=e}formData={startDate:"",endDate:"",people:1,location:""};packages=[];isLoading=!1;errorMessage="";fetchPackages(){let t=new He().set("startDate",this.formData.startDate).set("endDate",this.formData.endDate).set("location",this.formData.location).set("noOfPeople",this.formData.people.toString());this.http.get("http://localhost:9070/packages/searchPackage",{params:t}).subscribe(e=>{this.packages=e,this.isLoading=!1},e=>{console.error("Error fetching packages",e),this.errorMessage="Failed to fetch Packages. Please try again.",this.isLoading=!1})}bookNow(t){console.log("Navigating to itinerary with packageId:",t),this.router.navigate(["/itinerary",t])}static \u0275fac=function(e){return new(e||n)(u(H),u(W))};static \u0275cmp=x({type:n,selectors:[["app-package-selector"]],decls:26,vars:7,consts:[[1,"package-search-form","mx-auto",3,"ngSubmit"],[1,"row","align-items-center","g-3"],[1,"col-md-3","position-relative"],["for","location",1,"form-label","fw-bold"],["type","text","id","location","name","location","placeholder","Enter city or location","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","startDate",1,"form-label","fw-bold"],["type","date","id","startDate","name","startDate","placeholder","dd-mm-yyyy","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label","fw-bold"],["type","date","id","endDate","name","endDate","placeholder","dd-mm-yyyy","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3","position-relative","d-flex","align-items-center"],[1,"flex-grow-1","me-2"],["for","people",1,"form-label","fw-bold"],["type","number","id","people","name","people","placeholder","No. of People","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-warning","search-btn"],["class","text-center mt-4",4,"ngIf"],["class","alert alert-danger mt-4",4,"ngIf"],[1,"container","mt-5"],[1,"row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger","mt-4"],[1,"col-md-4"],[1,"card","package-card","h-100"],["alt","Package Image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-muted","mb-1"],[1,"card-text","text-muted","mb-3"],[1,"text-primary","fw-bold"],[1,"btn","btn-warning","mt-3","w-100",3,"click"]],template:function(e,i){e&1&&(r(0,"form",0),p("ngSubmit",function(){return i.fetchPackages()}),r(1,"div",1)(2,"div",2)(3,"label",3),a(4,"Where to"),o(),r(5,"input",4),V("ngModelChange",function(d){return D(i.formData.location,d)||(i.formData.location=d),d}),o()(),r(6,"div",2)(7,"label",5),a(8,"Check-in"),o(),r(9,"input",6),V("ngModelChange",function(d){return D(i.formData.startDate,d)||(i.formData.startDate=d),d}),o()(),r(10,"div",2)(11,"label",7),a(12,"Check-out"),o(),r(13,"input",8),V("ngModelChange",function(d){return D(i.formData.endDate,d)||(i.formData.endDate=d),d}),o()(),r(14,"div",9)(15,"div",10)(16,"label",11),a(17,"Guests & Rooms"),o(),r(18,"input",12),V("ngModelChange",function(d){return D(i.formData.people,d)||(i.formData.people=d),d}),o()(),r(19,"button",13),a(20," Search "),o()()()(),b(21,Qo,4,0,"div",14)(22,Xo,2,1,"div",15),r(23,"div",16)(24,"div",17),b(25,er,17,15,"div",18),o()()),e&2&&(s(5),I("ngModel",i.formData.location),s(4),I("ngModel",i.formData.startDate),s(4),I("ngModel",i.formData.endDate),s(5),I("ngModel",i.formData.people),s(3),m("ngIf",i.isLoading),s(),m("ngIf",i.errorMessage),s(3),m("ngForOf",i.packages))},dependencies:[y,$,R,Te,Ee,ae,E,M,J,k,P,X,ke,pe,me,Z],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.form[_ngcontent-%COMP%]{margin-top:-200px;position:relative;z-index:2;background:#fffc;padding:20px;border-radius:10px;box-shadow:0 4px 15px #0003}form[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #ced4da;padding:10px;font-size:.95rem}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff80}form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;font-size:1rem;font-weight:700;transition:background-color .3s ease,transform .3s ease}form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}h3[_ngcontent-%COMP%]{font-weight:700;color:#007bff;margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:500;color:#495057}input.form-control[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #ced4da;padding:10px;font-size:16px}button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;border:none;font-size:18px;font-weight:700;padding:12px;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.card[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;box-shadow:0 4px 15px #0003}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 20px #0000004d}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#000}.card-text[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:#495057}.text-muted[_ngcontent-%COMP%]{font-size:1.5rem;color:#6c757d}.text-primary[_ngcontent-%COMP%]{color:green}button.btn-success[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;padding:10px;border-radius:5px}button.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838}.package-search-form[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 15px #0003;max-width:1100px;width:100%;margin-top:-100px;z-index:2;position:relative}.package-search-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px;font-size:.9rem;padding:10px;height:45px}.package-search-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.9rem;color:#333;font-weight:700}.search-btn[_ngcontent-%COMP%]{margin-top:31px;margin-left:6px;height:45px;font-weight:500;font-size:1rem;border-radius:5px;background-color:#ffc107;color:#fff;transition:all .3s ease}.search-btn[_ngcontent-%COMP%]:hover{background-color:#e0a800;color:#fff}.package-card[_ngcontent-%COMP%]{border:none;border-radius:15px;overflow:hidden;box-shadow:0 4px 15px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.package-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 20px #0003}.package-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover}.card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:.5rem}.card-text[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d}.text-primary[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}@media (max-width: 768px){.package-search-form[_ngcontent-%COMP%]{padding:15px;max-width:100%}.search-btn[_ngcontent-%COMP%]{font-size:.9rem}.package-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px}.card-title[_ngcontent-%COMP%], .text-primary[_ngcontent-%COMP%]{font-size:1rem}}']})};function tr(n,t){n&1&&(r(0,"a",24),a(1,"Login"),o(),r(2,"a",25),a(3,"SignUp"),o())}function nr(n,t){if(n&1){let e=w();r(0,"div",6)(1,"span",26),a(2),o(),r(3,"button",27),p("click",function(){_(e);let l=g();return C(l.goToProfile())}),c(4,"i",28),a(5," Profile "),o(),r(6,"button",29),p("click",function(){_(e);let l=g();return C(l.logout())}),c(7,"i",30),a(8,"Logout "),o()()}if(n&2){let e=g();s(2),h("Welcome, ",e.username,"!")}}function ir(n,t){n&1&&c(0,"app-flights")}function or(n,t){n&1&&c(0,"app-hotels")}function rr(n,t){n&1&&c(0,"app-package-selector")}function ar(n,t){n&1&&(r(0,"div",31)(1,"h2"),a(2,"Start Your Journey"),o(),r(3,"p",32),a(4,"Select a category above to begin your travel adventure"),o()())}var cn=class n{constructor(t){this.renderer=t}selectedSection=null;isLoggedIn=!1;username="";router;ngOnInit(){this.checkLoginStatus()}checkLoginStatus(){let t=localStorage.getItem("token");if(t)try{let e=we(t);e.exp*1e3>Date.now()?(this.isLoggedIn=!0,this.username=e.sub):this.logout()}catch{this.logout()}}showSection(t){this.selectedSection=t}goToProfile(){this.router.navigate(["/profile"])}logout(){localStorage.removeItem("token"),this.isLoggedIn=!1,this.username="",window.location.reload()}static \u0275fac=function(e){return new(e||n)(u(We))};static \u0275cmp=x({type:n,selectors:[["app-home-page"]],decls:42,vars:11,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-transparent","fixed-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"d-flex","align-items-center"],[1,"video-header"],["autoplay","","muted","","loop","",1,"video-background"],["src","/assets/201423-915387343_small.mp4","type","video/mp4"],[1,"overlay"],[1,"container","text-center","text-white"],[1,"display-4","fw-bold","display"],[1,"highlight"],[1,"lead","display"],[1,"d-flex","justify-content-center","gap-3","mt-4"],[1,"btn-12","transparent-btn",3,"click"],[1,"fas","fa-plane","me-2"],[1,"fas","fa-hotel","me-2"],[1,"fas","fa-suitcase","me-2"],[1,"container","mt-4"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","text-center py-5",4,"ngSwitchDefault"],["routerLink","/login",1,"btn","btn-outline-light","me-2"],["routerLink","/signup",1,"btn","btn-outline-light","me-2"],[1,"text-light","me-3"],[1,"btn","btn-outline-light","me-2",3,"click"],[1,"fas","fa-user","me-1"],[1,"btn","btn-outline-light",3,"click"],[1,"fas","fa-sign-out-alt","me-2"],[1,"text-center","py-5"],[1,"lead"]],template:function(e,i){e&1&&(r(0,"nav",0)(1,"div",1)(2,"a",2),a(3,"TravelSite"),o(),r(4,"button",3),c(5,"span",4),o(),r(6,"div",5)(7,"div",6),b(8,tr,4,0)(9,nr,9,1,"div",6),o()()()(),r(10,"header",7)(11,"video",8),c(12,"source",9),a(13," Your browser does not support the video tag. "),o(),r(14,"div",10)(15,"div",11)(16,"h1",12),a(17,"Plan a "),r(18,"span",13),a(19,"Hassle-free"),o(),a(20," holiday"),o(),r(21,"p",14),a(22,"Search for the best destinations, flights, and hotels"),o(),r(23,"div",15)(24,"button",16),p("click",function(){return i.showSection("flights")}),r(25,"span"),c(26,"i",17),a(27,"Flights"),o()(),r(28,"button",16),p("click",function(){return i.showSection("hotels")}),r(29,"span"),c(30,"i",18),a(31,"Hotels"),o()(),r(32,"button",16),p("click",function(){return i.showSection("packages")}),r(33,"span"),c(34,"i",19),a(35,"Packages"),o()()()()()(),r(36,"main",20)(37,"div",21),b(38,ir,1,0,"app-flights",22)(39,or,1,0,"app-hotels",22)(40,rr,1,0,"app-package-selector",22)(41,ar,5,0,"div",23),o()()),e&2&&(s(8),B(i.isLoggedIn?9:8),s(16),N("active",i.selectedSection==="flights"),s(4),N("active",i.selectedSection==="hotels"),s(4),N("active",i.selectedSection==="packages"),s(5),m("ngSwitch",i.selectedSection),s(),m("ngSwitchCase","flights"),s(),m("ngSwitchCase","hotels"),s(),m("ngSwitchCase","packages"))},dependencies:[Z,ue,y,zt,qt,$t,ut,gt,ft],styles:[".navbar[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none;z-index:10}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.navbar[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-color:#fff;color:#fff;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background-color:transparent;color:#0f8;border-color:#0f8;transform:scale(1.05)}.video-header[_ngcontent-%COMP%]{position:relative;height:80vh;overflow:hidden}.video-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;color:#fff}.overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#0f8}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem}.search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;padding:10px;border-radius:5px;border:none}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:5px;background-color:#007bff;color:#fff;border:none;cursor:pointer;transition:all .3s ease}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}main[_ngcontent-%COMP%]{margin-top:50px}main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#343a40}.btn[_ngcontent-%COMP%]{font-size:1.1rem}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.btn-12[_ngcontent-%COMP%], .btn-12[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .btn-12[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, .btn-12[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, .btn-12[_ngcontent-%COMP%]:after, .btn-12[_ngcontent-%COMP%]:before{border:0 solid;box-sizing:border-box}.btn-12[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;-webkit-appearance:button;background-color:#000;background-image:none;color:#fff;cursor:pointer;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:100%;font-weight:900;line-height:1.5;margin:0;-webkit-mask-image:-webkit-radial-gradient(#000,#fff);padding:0;text-transform:uppercase}.btn-12[_ngcontent-%COMP%]:disabled{cursor:default}.btn-12[_ngcontent-%COMP%]:-moz-focusring{outline:auto}.btn-12[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;vertical-align:middle}.btn-12[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none}.btn-12[_ngcontent-%COMP%]{border-radius:99rem;border-width:2px;overflow:hidden;padding:.8rem 3rem;position:relative}.btn-12[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{mix-blend-mode:difference}.transparent-btn[_ngcontent-%COMP%]{background-color:transparent;border:2px solid #fff;color:#fff;padding:10px 20px;border-radius:5px;font-size:1.1rem;font-weight:700;transition:all .3s ease}.transparent-btn[_ngcontent-%COMP%]:hover{background-color:transparent;color:#0f8;border-color:#0f8;transform:scale(1.05)}.transparent-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:color .3s ease}"]})};var lr=n=>["/reviews",n],sr=n=>["/reviews/edit",n];function dr(n,t){if(n&1){let e=w();r(0,"tr")(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),a(6),o(),r(7,"td"),a(8),o(),r(9,"td"),a(10),o(),r(11,"td"),a(12),o(),r(13,"td")(14,"a",6),a(15,"View"),o(),r(16,"a",7),a(17,"Edit"),o(),r(18,"button",8),p("click",function(){let l=_(e).$implicit,d=g();return C(d.deleteReview(l.reviewID))}),a(19,"Delete"),o()()()}if(n&2){let e=t.$implicit;s(2),O(e.reviewID),s(2),O(e.hotel.name),s(2),O(e.user.userId),s(2),O(e.user.username||e.user.userId),s(2),O(e.rating),s(2),O(e.comment),s(2),m("routerLink",it(8,lr,e.reviewID)),s(2),m("routerLink",it(10,sr,e.reviewID))}}var mn=class n{constructor(t){this.reviewService=t}reviews=[];ngOnInit(){this.loadReviews()}loadReviews(){this.reviewService.getReviews().subscribe({next:t=>this.reviews=t,error:t=>console.error(t)})}deleteReview(t){confirm("Are you sure you want to delete this review?")&&this.reviewService.deleteReview(t).subscribe({next:()=>this.loadReviews(),error:e=>console.error(e)})}static \u0275fac=function(e){return new(e||n)(u(he))};static \u0275cmp=x({type:n,selectors:[["app-review-list"]],decls:24,vars:1,consts:[[1,"container","mt-4"],[1,"mb-4"],["routerLink","/reviews/new",1,"btn","btn-primary","mb-3"],[1,"table","table-striped"],[1,"table-success"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-info","text-white","me-1",3,"routerLink"],[1,"btn","btn-sm","btn-warning","me-1",3,"routerLink"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Reviews"),o(),r(3,"a",2),a(4,"Add New Review"),o(),r(5,"table",3)(6,"thead",4)(7,"tr")(8,"th"),a(9,"Review ID"),o(),r(10,"th"),a(11,"Hotel"),o(),r(12,"th"),a(13,"UserID"),o(),r(14,"th"),a(15,"UserName"),o(),r(16,"th"),a(17,"Rating"),o(),r(18,"th"),a(19,"Comment"),o(),r(20,"th"),a(21,"Actions"),o()()(),r(22,"tbody"),b(23,dr,20,12,"tr",5),o()()()),e&2&&(s(23),m("ngForOf",i.reviews))},dependencies:[y,$,Z,ue],encapsulation:2})};function cr(n,t){if(n&1){let e=w();r(0,"i",2),p("click",function(){let l=_(e).$implicit,d=g();return C(!d.isReadOnly&&d.setRating(l))}),o()}if(n&2){let e=t.$implicit,i=g();N("active",e<=i.rating)("clickable",!i.isReadOnly)}}var ht=class n{rating=0;maxRating=5;isReadOnly=!1;ratingChange=new ie;stars=[];ngOnChanges(t){this.stars=Array.from({length:this.maxRating},(e,i)=>i+1)}setRating(t){this.isReadOnly||(this.rating=t,this.ratingChange.emit(this.rating))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-star-rating"]],inputs:{rating:"rating",maxRating:"maxRating",isReadOnly:"isReadOnly"},outputs:{ratingChange:"ratingChange"},features:[ze],decls:3,vars:2,consts:[[1,"star-rating"],[1,"fas","fa-star",3,"active","clickable"],[1,"fas","fa-star",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),Ct(1,cr,1,4,"i",1,jt),o()),e&2&&(N("readonly",i.isReadOnly),s(),xt(i.stars))},dependencies:[y],styles:[".star-rating[_ngcontent-%COMP%]{display:inline-flex;gap:4px}.fa-star[_ngcontent-%COMP%]{color:#ddd;font-size:1.25rem}.fa-star.active[_ngcontent-%COMP%]{color:gold}.fa-star.clickable[_ngcontent-%COMP%]{cursor:pointer}.fa-star.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.readonly[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{cursor:default}"]})};var Ot=class n{constructor(t,e,i,l){this.fb=t;this.reviewService=e;this.router=i;this.route=l}reviewForm;isEdit=!1;reviewId;stars=Array(5).fill(0);ngOnInit(){this.reviewForm=this.fb.group({rating:[null,[v.required,v.min(1),v.max(5)]],comment:["",v.required],hotelId:[null,v.required],userId:[null,v.required]}),this.route.paramMap.subscribe(t=>{let e=t.get("id");e&&(this.isEdit=!0,this.reviewId=Number(e),this.reviewService.getReviewById(this.reviewId).subscribe({next:i=>{this.reviewForm.patchValue({rating:i.rating,comment:i.comment,hotelId:i.hotel.hotelId,userId:i.user.userId})},error:i=>console.error(i)}))})}setRating(t){this.reviewForm.patchValue({rating:t})}onSubmit(){if(this.reviewForm.invalid)return;let t={hotel:{hotelId:this.reviewForm.value.hotelId},user:{userId:this.reviewForm.value.userId},rating:this.reviewForm.value.rating,comment:this.reviewForm.value.comment};this.isEdit&&this.reviewId?this.reviewService.updateReview(this.reviewId,t).subscribe({next:()=>this.router.navigate(["/reviews"]),error:e=>console.error(e)}):this.reviewService.addReview(t).subscribe({next:()=>this.router.navigate(["/reviews"]),error:e=>console.error(e)})}static \u0275fac=function(e){return new(e||n)(u(G),u(he),u(W),u(Fe))};static \u0275cmp=x({type:n,selectors:[["app-review-form"]],decls:26,vars:4,consts:[[1,"container","mt-5"],[1,"card","shadow"],[1,"card-header","text-center"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","hotelId",1,"form-label"],["id","hotelId","type","number","formControlName","hotelId",1,"form-control"],["for","userId",1,"form-label"],["id","userId","type","number","formControlName","userId",1,"form-control"],["for","rating",1,"form-label"],[3,"ratingChange","rating"],["for","comment",1,"form-label"],["id","comment","rows","4","formControlName","comment",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary","w-50"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),a(4),o()(),r(5,"div",3)(6,"form",4),p("ngSubmit",function(){return i.onSubmit()}),r(7,"div",5)(8,"label",6),a(9,"Hotel ID:"),o(),c(10,"input",7),o(),r(11,"div",5)(12,"label",8),a(13,"User ID:"),o(),c(14,"input",9),o(),r(15,"div",5)(16,"label",10),a(17,"Rating:"),o(),r(18,"app-star-rating",11),p("ratingChange",function(d){let f;return(f=i.reviewForm.get("rating"))==null?null:f.setValue(d)}),o()(),r(19,"div",5)(20,"label",12),a(21,"Comment:"),o(),c(22,"textarea",13),o(),r(23,"div",14)(24,"button",15),a(25),o()()()()()()),e&2){let l;s(4),O(i.isEdit?"Edit Review":"Add New Review"),s(2),m("formGroup",i.reviewForm),s(12),m("rating",(l=i.reviewForm.get("rating"))==null?null:l.value),s(7),h(" ",i.isEdit?"Update":"Submit"," ")}},dependencies:[y,z,E,M,J,k,P,j,L,ht],encapsulation:2})};function mr(n,t){if(n&1){let e=w();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),a(4),o()(),r(5,"div",5)(6,"p",6)(7,"strong"),a(8,"Hotel:"),o(),a(9),o(),r(10,"p",6)(11,"strong"),a(12,"User:"),o(),a(13),o(),r(14,"p",6)(15,"strong"),a(16,"Rating:"),o(),a(17),o(),r(18,"p",6)(19,"strong"),a(20,"Comment:"),o(),a(21),o(),r(22,"p",4)(23,"strong"),a(24,"Timestamp:"),o(),a(25),Y(26,"date"),o()(),r(27,"div",7)(28,"button",8),p("click",function(){_(e);let l=g();return C(l.goBack())}),a(29,"Back"),o(),r(30,"button",9),p("click",function(){_(e);let l=g();return C(l.editReview())}),a(31,"Edit"),o()()()()}if(n&2){let e=g();s(4),h("Review Details (ID: ",e.review.reviewID,")"),s(5),h(" ",e.review.hotel.name,""),s(4),h(" ",e.review.user.username||e.review.user.userId,""),s(4),h(" ",e.review.rating,""),s(4),h(" ",e.review.comment,""),s(4),h(" ",te(26,6,e.review.timestamp,"medium"),"")}}var pn=class n{constructor(t,e,i,l){this.route=t;this.reviewService=e;this.location=i;this.router=l}review;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.loadReview(t)}loadReview(t){this.reviewService.getReviewById(t).subscribe({next:e=>this.review=e,error:e=>console.error(e)})}goBack(){this.location.back()}editReview(){this.review&&this.review.reviewID&&this.router.navigate(["/reviews/edit",this.review.reviewID])}static \u0275fac=function(e){return new(e||n)(u(Fe),u(he),u(hi),u(W))};static \u0275cmp=x({type:n,selectors:[["app-review-detail"]],decls:1,vars:1,consts:[["class","container my-5",4,"ngIf"],[1,"container","my-5"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[1,"mb-2"],[1,"card-footer","d-flex","justify-content-between"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-warning",3,"click"]],template:function(e,i){e&1&&b(0,mr,32,9,"div",0),e&2&&m("ngIf",i.review)},dependencies:[y,R,Ee],encapsulation:2})};var Q=class n{constructor(t){this.http=t;this.checkAuthState()}apiUrl="http://localhost:9070/api";authStateChange=new Ln(this.isLoggedIn());usernameSubject=new Ln("");checkAuthState(){let t=localStorage.getItem("token");if(t)try{let e=we(t);e.exp*1e3>Date.now()&&(this.authStateChange.next(!0),this.usernameSubject.next(e.sub))}catch{this.logout()}}get authState$(){return this.authStateChange.asObservable()}get username$(){return this.usernameSubject.asObservable()}getAuthHeaders(){let t=localStorage.getItem("token");return{headers:new vi({Authorization:`Bearer ${t}`})}}registerAgent(t){return this.http.post(`${this.apiUrl}/register/tm`,t,this.getAuthHeaders())}registerManager(t){return this.http.post(`${this.apiUrl}/register/hm`,t,this.getAuthHeaders())}registerUser(t){return this.http.post(`${this.apiUrl}/register`,t)}login(t){return this.http.post(`${this.apiUrl}/login`,t).pipe(li(e=>{if(e.token){localStorage.setItem("token",e.token);let i=we(e.token);this.authStateChange.next(!0),this.usernameSubject.next(i.sub)}}))}getCurrentUserId(){let t=localStorage.getItem("token");if(!t)return console.log("No token found in localStorage"),null;try{let e=we(t);console.log("Decoded Token:",e);let i=Math.floor(Date.now()/1e3);return e.exp>i?e.userId||null:(console.log("Token is expired"),localStorage.removeItem("token"),null)}catch(e){return console.error("Failed to decode token:",e),null}}getCurrentUserEmail(){let t=localStorage.getItem("token");if(!t)return console.log("No token found in localStorage"),null;try{let e=we(t);console.log("Decoded Token:",e);let i=Math.floor(Date.now()/1e3);return e.exp>i?e.email||null:(console.log("Token is expired"),localStorage.removeItem("token"),null)}catch(e){return console.error("Failed to decode token:",e),null}}getCurrentUserRole(){let t=localStorage.getItem("token");if(!t)return null;try{let e=we(t),i=Math.floor(Date.now()/1e3);return e.exp>i?e.role||null:(localStorage.removeItem("token"),null)}catch{return null}}getUserById(t){return this.http.get(`${this.apiUrl}/${t}`,this.getAuthHeaders())}isLoggedIn(){let t=localStorage.getItem("token");if(!t)return!1;try{return we(t).exp*1e3>Date.now()}catch{return!1}}logout(){localStorage.removeItem("token"),this.authStateChange.next(!1),this.usernameSubject.next("")}getUsername(){let t=localStorage.getItem("token");if(!t)return"";try{return we(t).sub}catch{return""}}static \u0275fac=function(e){return new(e||n)(Ce(H))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})};function pr(n,t){if(n&1&&(r(0,"div",10),a(1),o()),n&2){let e=g();s(),h(" ",e.errorMessage," ")}}var un=class n{constructor(t,e){this.authService=t;this.router=e}username="";password="";errorMessage="";onLogin(){let t={username:this.username,password:this.password};this.authService.login(t).subscribe({next:e=>{localStorage.setItem("token",e.token),this.errorMessage="";let i=we(e.token);switch(i.role||i.roles||i.authorities){case"ADMIN":this.router.navigate(["/admin-dashboard"]);break;case"HOTELMANAGER":this.router.navigate(["/manager-dashboard"]);break;case"TRAVELAGENT":this.router.navigate(["/travel-agent-dashboard"]);break;case"USER":this.router.navigate(["/"]);break;default:this.errorMessage="Unknown role!",this.router.navigate(["/"])}},error:e=>{this.errorMessage=e.error?.message||"Login failed! Please check your credentials."}})}static \u0275fac=function(e){return new(e||n)(u(Q),u(W))};static \u0275cmp=x({type:n,selectors:[["app-login"]],decls:19,vars:3,consts:[[1,"auth-container"],[1,"auth-form"],["class","text-danger mb-2",4,"ngIf"],[3,"ngSubmit"],[1,"input-group"],["type","text","name","username","placeholder","Username","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-auth"],[1,"auth-side"],["routerLink","/signup",1,"btn","btn-outline-auth"],[1,"text-danger","mb-2"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Sign in to TravelSite"),o(),b(4,pr,2,1,"div",2),r(5,"form",3),p("ngSubmit",function(){return i.onLogin()}),r(6,"div",4)(7,"input",5),V("ngModelChange",function(d){return D(i.username,d)||(i.username=d),d}),o()(),r(8,"div",4)(9,"input",6),V("ngModelChange",function(d){return D(i.password,d)||(i.password=d),d}),o()(),r(10,"button",7),a(11,"Sign In"),o()()(),r(12,"div",8)(13,"h2"),a(14,"First Time? Unlock The World"),o(),r(15,"p"),a(16,"Create Your Travel Story"),o(),r(17,"a",9),a(18,"Sign Up"),o()()()),e&2&&(s(4),m("ngIf",i.errorMessage),s(3),I("ngModel",i.username),s(2),I("ngModel",i.password))},dependencies:[ae,E,M,k,P,X,pe,me,Z,ue,at,y,R],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;min-height:80vh;box-shadow:0 0 20px #e0e0e0;border-radius:12px;overflow:hidden;margin:40px auto;max-width:800px;background:#fff}.auth-form[_ngcontent-%COMP%], .auth-side[_ngcontent-%COMP%]{flex:1;padding:48px 32px;display:flex;flex-direction:column;justify-content:center}.auth-form[_ngcontent-%COMP%]{background:#fff}.auth-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin-bottom:32px;color:#000}.input-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e0e0e0;border-radius:6px;font-size:16px}.btn-auth[_ngcontent-%COMP%]{width:100%;background:#07460f;color:#fff;border:none;padding:12px;border-radius:6px;font-size:18px;margin-top:16px;transition:background .2s}.btn-auth[_ngcontent-%COMP%]:hover{background:#123517}.forgot-link[_ngcontent-%COMP%]{text-align:right;margin-bottom:10px}.forgot-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline;font-size:14px}.auth-side[_ngcontent-%COMP%]{background:#fff;color:#fff;align-items:center;text-align:center;background-image:url(/assets/pexels-pixworthmedia-3151191.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.auth-side[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin-bottom:16px}.auth-side[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:32px}.btn-outline-auth[_ngcontent-%COMP%]{border:2px solid #fff;color:#fff;background:transparent;padding:10px 32px;border-radius:6px;font-size:16px;text-decoration:none;transition:background .2s,color .2s}.btn-outline-auth[_ngcontent-%COMP%]:hover{background:#fff;color:#123517}"]})};var gn=class n{constructor(t,e){this.authService=t;this.router=e}username="";email="";password="";name="";contactNumber="";onSignup(){let t={username:this.username,email:this.email,password:this.password,name:this.name,contactNumber:this.contactNumber};this.authService.registerUser(t).subscribe({next:e=>{alert(e?.message||"User registered successfully!")},error:e=>{alert(e.error?.message||e.error||"Registration failed!")}})}static \u0275fac=function(e){return new(e||n)(u(Q),u(W))};static \u0275cmp=x({type:n,selectors:[["app-signup"]],decls:22,vars:3,consts:[[1,"auth-container"],[1,"auth-form"],[3,"ngSubmit"],[1,"input-group"],["type","text","name","username","placeholder","User Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-auth"],[1,"auth-side"],["routerLink","/login",1,"btn","btn-outline-auth"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Create Account"),o(),r(4,"form",2),p("ngSubmit",function(){return i.onSignup()}),r(5,"div",3)(6,"input",4),V("ngModelChange",function(d){return D(i.username,d)||(i.username=d),d}),o()(),r(7,"div",3)(8,"input",5),V("ngModelChange",function(d){return D(i.email,d)||(i.email=d),d}),o()(),r(9,"div",3)(10,"input",6),V("ngModelChange",function(d){return D(i.password,d)||(i.password=d),d}),o()(),r(11,"button",7),a(12,"Sign Up"),o()()(),r(13,"div",8)(14,"h2"),a(15,"Already Packed? "),c(16,"br"),a(17,"Log in"),o(),r(18,"p"),a(19,"Your Next Adventure Awaits"),o(),r(20,"a",9),a(21,"Sign In"),o()()()),e&2&&(s(6),I("ngModel",i.username),s(2),I("ngModel",i.email),s(2),I("ngModel",i.password))},dependencies:[ae,E,M,k,P,X,pe,me,Z,ue,y],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;min-height:80vh;box-shadow:0 0 20px #e0e0e0;border-radius:12px;overflow:hidden;margin:40px auto;max-width:800px;background:#fff}.auth-form[_ngcontent-%COMP%], .auth-side[_ngcontent-%COMP%]{flex:1;padding:48px 32px;display:flex;flex-direction:column;justify-content:center}.auth-form[_ngcontent-%COMP%]{background:#fff}.auth-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin-bottom:32px;color:#000}.input-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e0e0e0;border-radius:6px;font-size:16px}.btn-auth[_ngcontent-%COMP%]{width:100%;background:#07460f;color:#fff;border:none;padding:12px;border-radius:6px;font-size:18px;margin-top:16px;transition:background .2s}.btn-auth[_ngcontent-%COMP%]:hover{background:#123517}.forgot-link[_ngcontent-%COMP%]{text-align:right;margin-bottom:10px}.forgot-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline;font-size:14px}.auth-side[_ngcontent-%COMP%]{background:#fff;color:#123517;align-items:center;text-align:center;background-image:url(/assets/pexels-karolina-2031292-31983296.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.auth-side[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin-bottom:16px}.auth-side[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:32px}.btn-outline-auth[_ngcontent-%COMP%]{border:2px solid #fff;color:#fff;background:transparent;padding:10px 32px;border-radius:6px;font-size:16px;text-decoration:none;transition:background .2s,color .2s}.btn-outline-auth[_ngcontent-%COMP%]:hover{background:#fff;color:#123517}"]})};var fn=class n{constructor(t){this.authService=t}close=new ie;name="";username="";email="";password="";contactNumber="";addManager(){let t={name:this.name,username:this.username,email:this.email,password:this.password,contactNumber:this.contactNumber};this.authService.registerManager(t).subscribe({next:e=>{alert(e?.message||"Manager added successfully!"),this.close.emit()},error:e=>{alert(e.error?.message||e.error||"Failed to add manager!")}})}static \u0275fac=function(e){return new(e||n)(u(Q))};static \u0275cmp=x({type:n,selectors:[["app-add-manager"]],outputs:{close:"close"},decls:12,vars:5,consts:[[3,"ngSubmit"],["type","text","name","name","placeholder","Name","required","",3,"ngModelChange","ngModel"],["type","text","name","username","placeholder","Username","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","text","name","contactNumber","placeholder","Contact Number","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-link",3,"click"]],template:function(e,i){e&1&&(r(0,"h3"),a(1,"Add Manager"),o(),r(2,"form",0),p("ngSubmit",function(){return i.addManager()}),r(3,"input",1),V("ngModelChange",function(d){return D(i.name,d)||(i.name=d),d}),o(),r(4,"input",2),V("ngModelChange",function(d){return D(i.username,d)||(i.username=d),d}),o(),r(5,"input",3),V("ngModelChange",function(d){return D(i.email,d)||(i.email=d),d}),o(),r(6,"input",4),V("ngModelChange",function(d){return D(i.password,d)||(i.password=d),d}),o(),r(7,"input",5),V("ngModelChange",function(d){return D(i.contactNumber,d)||(i.contactNumber=d),d}),o(),r(8,"button",6),a(9,"Add Manager"),o(),r(10,"button",7),p("click",function(){return i.close.emit()}),a(11,"Cancel"),o()()),e&2&&(s(3),I("ngModel",i.name),s(),I("ngModel",i.username),s(),I("ngModel",i.email),s(),I("ngModel",i.password),s(),I("ngModel",i.contactNumber))},dependencies:[ae,E,M,k,P,X,pe,me,y],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;background:#fff;padding:32px 24px;border-radius:10px;box-shadow:0 2px 16px #e0e0e0;max-width:400px;margin:24px auto}h3[_ngcontent-%COMP%]{text-align:center;color:#2bb6a8;margin-bottom:16px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:12px;border:1px solid #e0e0e0;border-radius:6px;font-size:16px;outline:none;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{border-color:#2bb6a8}button.btn-primary[_ngcontent-%COMP%]{background:#2bb6a8;color:#fff;border:none;padding:12px;border-radius:6px;font-size:16px;cursor:pointer;transition:background .2s}button.btn-primary[_ngcontent-%COMP%]:hover{background:#239e92}button.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#2bb6a8;font-size:14px;text-decoration:underline;cursor:pointer;margin-top:-8px;align-self:flex-end}"]})};var hn=class n{constructor(t){this.authService=t}close=new ie;name="";username="";email="";password="";contactNumber="";addAgent(){let t={name:this.name,username:this.username,email:this.email,password:this.password,contactNumber:this.contactNumber};this.authService.registerAgent(t).subscribe({next:e=>{alert(e?.message||"Travel Agent added successfully!"),this.close.emit()},error:e=>{alert(e.error?.message||e.error||"Failed to add Travel Agent!")}})}static \u0275fac=function(e){return new(e||n)(u(Q))};static \u0275cmp=x({type:n,selectors:[["app-add-agent"]],outputs:{close:"close"},decls:12,vars:5,consts:[[3,"ngSubmit"],["type","text","name","name","placeholder","Name","required","",3,"ngModelChange","ngModel"],["type","text","name","username","placeholder","Username","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","text","name","contactNumber","placeholder","Contact Number","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-link",3,"click"]],template:function(e,i){e&1&&(r(0,"h3"),a(1,"Add Travel-Agent"),o(),r(2,"form",0),p("ngSubmit",function(){return i.addAgent()}),r(3,"input",1),V("ngModelChange",function(d){return D(i.name,d)||(i.name=d),d}),o(),r(4,"input",2),V("ngModelChange",function(d){return D(i.username,d)||(i.username=d),d}),o(),r(5,"input",3),V("ngModelChange",function(d){return D(i.email,d)||(i.email=d),d}),o(),r(6,"input",4),V("ngModelChange",function(d){return D(i.password,d)||(i.password=d),d}),o(),r(7,"input",5),V("ngModelChange",function(d){return D(i.contactNumber,d)||(i.contactNumber=d),d}),o(),r(8,"button",6),a(9,"Add Travel-Agent"),o(),r(10,"button",7),p("click",function(){return i.close.emit()}),a(11,"Cancel"),o()()),e&2&&(s(3),I("ngModel",i.name),s(),I("ngModel",i.username),s(),I("ngModel",i.email),s(),I("ngModel",i.password),s(),I("ngModel",i.contactNumber))},dependencies:[ae,E,M,k,P,X,pe,me,y],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;background:#fff;padding:32px 24px;border-radius:10px;box-shadow:0 2px 16px #e0e0e0;max-width:400px;margin:24px auto}h3[_ngcontent-%COMP%]{text-align:center;color:#2bb6a8;margin-bottom:16px}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:12px;border:1px solid #e0e0e0;border-radius:6px;font-size:16px;outline:none;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{border-color:#2bb6a8}button.btn-primary[_ngcontent-%COMP%]{background:#2bb6a8;color:#fff;border:none;padding:12px;border-radius:6px;font-size:16px;cursor:pointer;transition:background .2s}button.btn-primary[_ngcontent-%COMP%]:hover{background:#239e92}button.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#2bb6a8;font-size:14px;text-decoration:underline;cursor:pointer;margin-top:-8px;align-self:flex-end}"]})};function ur(n,t){if(n&1){let e=w();r(0,"div",5)(1,"app-add-manager",6),p("close",function(){_(e);let l=g();return C(l.selectedForm=null)}),o()()}}function gr(n,t){if(n&1){let e=w();r(0,"div",5)(1,"app-add-agent",6),p("close",function(){_(e);let l=g();return C(l.selectedForm=null)}),o()()}}var vn=class n{selectedForm=null;showForm(t){this.selectedForm=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-admin-dashboard"]],decls:12,vars:2,consts:[[1,"admin-dashboard-container"],[1,"dashboard-actions"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","form-wrapper",4,"ngIf"],[1,"form-wrapper"],[3,"close"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2"),a(2,"Admin Dashboard"),o(),r(3,"p"),a(4,"Welcome, Admin! Here you can manage users, hotels, and more."),o(),r(5,"div",1)(6,"button",2),p("click",function(){return i.showForm("manager")}),a(7,"Add Manager"),o(),r(8,"button",3),p("click",function(){return i.showForm("agent")}),a(9,"Add Agent"),o()(),b(10,ur,2,0,"div",4)(11,gr,2,0,"div",4),o()),e&2&&(s(10),m("ngIf",i.selectedForm==="manager"),s(),m("ngIf",i.selectedForm==="agent"))},dependencies:[fn,hn,y,R],styles:[".admin-dashboard-container[_ngcontent-%COMP%]{max-width:700px;margin:40px auto;background:#fff;border-radius:12px;box-shadow:0 2px 16px #e0e0e0;padding:40px 32px}h2[_ngcontent-%COMP%]{color:#2bb6a8;font-weight:700;margin-bottom:12px;text-align:center}p[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;color:#555}.dashboard-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin-bottom:32px}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;margin-bottom:32px}.form-wrapper[_ngcontent-%COMP%]{margin-top:32px}.btn-primary[_ngcontent-%COMP%]{background:#2bb6a8;border:none;color:#fff;padding:12px 28px;border-radius:6px;font-size:16px;transition:background .2s}.btn-primary[_ngcontent-%COMP%]:hover{background:#239e92}.btn-secondary[_ngcontent-%COMP%]{background:#fbb040;border:none;color:#fff;padding:12px 28px;border-radius:6px;font-size:16px;transition:background .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e09e36}"]})};function fr(n,t){n&1&&(r(0,"div",19),a(1," Hotel name is required "),o())}function hr(n,t){n&1&&(r(0,"div",19),a(1," Location is required "),o())}function vr(n,t){n&1&&(r(0,"div",19),a(1," Must be greater than 0 "),o())}function br(n,t){n&1&&(r(0,"div",19),a(1," Must be greater than 0 "),o())}function _r(n,t){n&1&&(r(0,"div",19),a(1," Rating must be between 1 and 5 "),o())}var bn=class n{constructor(t,e){this.fb=t;this.hotelService=e;this.hotelForm=this.fb.group({name:["",v.required],location:["",v.required],roomsAvailable:["",[v.required,v.min(1)]],pricePerNight:["",[v.required,v.min(0)]],rating:["",[v.required,v.min(1),v.max(5)]]})}hotelForm;onSubmit(){this.hotelForm.valid&&this.hotelService.createHotel(this.hotelForm.value).subscribe({next:t=>{alert("Hotel added successfully!"),this.hotelForm.reset()},error:t=>{alert("Error adding hotel: "+t.message)}})}static \u0275fac=function(e){return new(e||n)(u(G),u(ge))};static \u0275cmp=x({type:n,selectors:[["app-add-hotel"]],decls:38,vars:7,consts:[[1,"container","mt-4"],[1,"mb-4"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"card-title","mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],["class","text-danger small",4,"ngIf"],["type","text","formControlName","location",1,"form-control"],[1,"col-md-4","mb-3"],["type","number","formControlName","roomsAvailable",1,"form-control"],["type","number","formControlName","pricePerNight",1,"form-control"],["type","number","formControlName","rating","min","1","max","5","step","0.5",1,"form-control"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],[1,"text-danger","small"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Hotel Manager Dashboard"),o(),r(3,"div",2)(4,"div",3)(5,"h3",4),a(6,"Add New Hotel"),o()(),r(7,"div",5)(8,"form",6),p("ngSubmit",function(){return i.onSubmit()}),r(9,"div",7)(10,"div",8)(11,"label",9),a(12,"Hotel Name"),o(),c(13,"input",10),b(14,fr,2,0,"div",11),o(),r(15,"div",8)(16,"label",9),a(17,"Location"),o(),c(18,"input",12),b(19,hr,2,0,"div",11),o(),r(20,"div",13)(21,"label",9),a(22,"Total Rooms"),o(),c(23,"input",14),b(24,vr,2,0,"div",11),o(),r(25,"div",13)(26,"label",9),a(27,"Price per Night (\u20B9)"),o(),c(28,"input",15),b(29,br,2,0,"div",11),o(),r(30,"div",13)(31,"label",9),a(32,"Rating (1-5)"),o(),c(33,"input",16),b(34,_r,2,0,"div",11),o()(),r(35,"div",17)(36,"button",18),a(37," Add Hotel "),o()()()()()()),e&2){let l,d,f,F,q;s(8),m("formGroup",i.hotelForm),s(6),m("ngIf",((l=i.hotelForm.get("name"))==null?null:l.invalid)&&((l=i.hotelForm.get("name"))==null?null:l.touched)),s(5),m("ngIf",((d=i.hotelForm.get("location"))==null?null:d.invalid)&&((d=i.hotelForm.get("location"))==null?null:d.touched)),s(5),m("ngIf",((f=i.hotelForm.get("roomsAvailable"))==null?null:f.invalid)&&((f=i.hotelForm.get("roomsAvailable"))==null?null:f.touched)),s(5),m("ngIf",((F=i.hotelForm.get("pricePerNight"))==null?null:F.invalid)&&((F=i.hotelForm.get("pricePerNight"))==null?null:F.touched)),s(5),m("ngIf",((q=i.hotelForm.get("rating"))==null?null:q.invalid)&&((q=i.hotelForm.get("rating"))==null?null:q.touched)),s(2),m("disabled",i.hotelForm.invalid)}},dependencies:[y,R,ae,E,M,J,k,P,ke,Ft,z,j,L,at],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 0 15px #0000001a}.card-header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;padding:1rem 1.5rem}.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.btn-primary[_ngcontent-%COMP%]{padding:8px 20px;font-weight:500}.text-danger[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}"]})};function Cr(n,t){if(n&1&&(r(0,"div",22),a(1),o()),n&2){let e=g();s(),h(" ",e.errorMessage," ")}}function xr(n,t){n&1&&c(0,"span",23)}var _n=class n{constructor(t,e){this.fb=t;this.hotelService=e;this.editForm=this.fb.group({name:["",[v.required,v.minLength(3)]],location:["",[v.required,v.minLength(3)]],roomsAvailable:["",[v.required,v.min(0)]],pricePerNight:["",[v.required,v.min(0)]],rating:["",[v.required,v.min(1),v.max(5)]]})}hotel;hotelUpdated=new ie;modalClosed=new ie;editForm;isSubmitting=!1;errorMessage="";ngOnInit(){this.hotel&&this.editForm.patchValue({name:this.hotel.name,location:this.hotel.location,roomsAvailable:this.hotel.roomsAvailable,pricePerNight:this.hotel.pricePerNight,rating:this.hotel.rating})}onSubmit(){if(this.editForm.valid&&this.hotel?.hotelId&&!this.isSubmitting){this.isSubmitting=!0,this.errorMessage="";let t=ee(ee({},this.hotel),this.editForm.value);this.hotelService.updateHotel(this.hotel.hotelId,t).subscribe({next:()=>{this.hotelUpdated.emit(),this.modalClosed.emit()},error:e=>{this.errorMessage=e.error?.message||"Error updating hotel. Please try again.",this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}else this.markFormGroupTouched(this.editForm)}onClose(){this.isSubmitting||this.modalClosed.emit()}markFormGroupTouched(t){Object.values(t.controls).forEach(e=>{e.markAsTouched(),e instanceof Be&&this.markFormGroupTouched(e)})}getErrorMessage(t){let e=this.editForm.get(t);if(e?.errors){if(e.errors.required)return`${t} is required`;if(e.errors.minlength)return`${t} must be at least ${e.errors.minlength.requiredLength} characters`;if(e.errors.min)return`${t} must be at least ${e.errors.min.min}`;if(e.errors.max)return`${t} must be at most ${e.errors.max.max}`}return""}static \u0275fac=function(e){return new(e||n)(u(G),u(ge))};static \u0275cmp=x({type:n,selectors:[["app-edit-hotel"]],inputs:{hotel:"hotel"},outputs:{hotelUpdated:"hotelUpdated",modalClosed:"modalClosed"},decls:47,vars:22,consts:[[1,"modal","d-block"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["class","alert alert-danger mb-3",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],[1,"invalid-feedback"],["type","text","formControlName","location",1,"form-control"],["type","number","formControlName","roomsAvailable",1,"form-control"],["type","number","formControlName","pricePerNight",1,"form-control"],["type","number","formControlName","rating","min","1","max","5","step","0.5",1,"form-control"],[1,"text-end"],["type","button",1,"btn","btn-secondary","me-2",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"modal-backdrop","fade","show"],[1,"alert","alert-danger","mb-3"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),a(5,"Edit Hotel"),o(),r(6,"button",5),p("click",function(){return i.onClose()}),o()(),r(7,"div",6),b(8,Cr,2,1,"div",7),r(9,"form",8),p("ngSubmit",function(){return i.onSubmit()}),r(10,"div",9)(11,"label",10),a(12,"Hotel Name"),o(),c(13,"input",11),r(14,"div",12),a(15),o()(),r(16,"div",9)(17,"label",10),a(18,"Location"),o(),c(19,"input",13),r(20,"div",12),a(21),o()(),r(22,"div",9)(23,"label",10),a(24,"Available Rooms"),o(),c(25,"input",14),r(26,"div",12),a(27),o()(),r(28,"div",9)(29,"label",10),a(30,"Price per Night (\u20B9)"),o(),c(31,"input",15),r(32,"div",12),a(33),o()(),r(34,"div",9)(35,"label",10),a(36,"Rating (1-5)"),o(),c(37,"input",16),r(38,"div",12),a(39),o()(),r(40,"div",17)(41,"button",18),p("click",function(){return i.onClose()}),a(42," Cancel "),o(),r(43,"button",19),b(44,xr,1,0,"span",20),a(45),o()()()()()(),c(46,"div",21),o()),e&2){let l,d,f,F,q;s(6),m("disabled",i.isSubmitting),s(2),m("ngIf",i.errorMessage),s(),m("formGroup",i.editForm),s(4),N("is-invalid",((l=i.editForm.get("name"))==null?null:l.invalid)&&((l=i.editForm.get("name"))==null?null:l.touched)),s(2),h(" ",i.getErrorMessage("name")," "),s(4),N("is-invalid",((d=i.editForm.get("location"))==null?null:d.invalid)&&((d=i.editForm.get("location"))==null?null:d.touched)),s(2),h(" ",i.getErrorMessage("location")," "),s(4),N("is-invalid",((f=i.editForm.get("roomsAvailable"))==null?null:f.invalid)&&((f=i.editForm.get("roomsAvailable"))==null?null:f.touched)),s(2),h(" ",i.getErrorMessage("roomsAvailable")," "),s(4),N("is-invalid",((F=i.editForm.get("pricePerNight"))==null?null:F.invalid)&&((F=i.editForm.get("pricePerNight"))==null?null:F.touched)),s(2),h(" ",i.getErrorMessage("pricePerNight")," "),s(4),N("is-invalid",((q=i.editForm.get("rating"))==null?null:q.invalid)&&((q=i.editForm.get("rating"))==null?null:q.touched)),s(2),h(" ",i.getErrorMessage("rating")," "),s(2),m("disabled",i.isSubmitting),s(2),m("disabled",i.editForm.invalid||i.isSubmitting),s(),m("ngIf",i.isSubmitting),s(),h(" ",i.isSubmitting?"Saving...":"Save Changes"," ")}},dependencies:[y,R,ae,E,M,J,k,P,ke,Ft,z,j,L],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:1.75rem auto;position:relative;z-index:1055}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:.3rem;box-shadow:0 .5rem 1rem #00000026}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1040}.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.text-danger[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.65}.invalid-feedback[_ngcontent-%COMP%]{display:block}"]})};function yr(n,t){if(n&1&&(r(0,"div",13),a(1),o()),n&2){let e=g();s(),h(" ",e.errorMessage," ")}}function wr(n,t){n&1&&c(0,"span",14)}var Cn=class n{constructor(t){this.hotelService=t}hotel;hotelDeleted=new ie;modalClosed=new ie;isDeleting=!1;errorMessage="";onConfirmDelete(){this.hotel?.hotelId&&!this.isDeleting&&(this.isDeleting=!0,this.errorMessage="",this.hotelService.deleteHotel(this.hotel.hotelId).subscribe({next:()=>{this.hotelDeleted.emit()},error:t=>{this.errorMessage=t.error?.message||"Error deleting hotel. Please try again.",this.isDeleting=!1},complete:()=>{this.isDeleting=!1}}))}onClose(){this.isDeleting||this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)(u(ge))};static \u0275cmp=x({type:n,selectors:[["app-delete-hotel"]],inputs:{hotel:"hotel"},outputs:{hotelDeleted:"hotelDeleted",modalClosed:"modalClosed"},decls:19,vars:7,consts:[[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["class","alert alert-danger mb-3",4,"ngIf"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"alert","alert-danger","mb-3"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),a(5,"Delete Hotel"),o(),r(6,"button",5),p("click",function(){return i.onClose()}),o()(),r(7,"div",6),b(8,yr,2,1,"div",7),r(9,"p"),a(10),o(),r(11,"p",8),a(12,"This action cannot be undone."),o()(),r(13,"div",9)(14,"button",10),p("click",function(){return i.onClose()}),a(15," Cancel "),o(),r(16,"button",11),p("click",function(){return i.onConfirmDelete()}),b(17,wr,1,0,"span",12),a(18),o()()()()()),e&2&&(s(6),m("disabled",i.isDeleting),s(2),m("ngIf",i.errorMessage),s(2),h('Are you sure you want to delete the hotel "',i.hotel.name,'"?'),s(4),m("disabled",i.isDeleting),s(2),m("disabled",i.isDeleting),s(),m("ngIf",i.isDeleting),s(),h(" ",i.isDeleting?"Deleting...":"Delete Hotel"," "))},dependencies:[y,R],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:1.75rem auto;position:relative;z-index:1055}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:.3rem;box-shadow:0 .5rem 1rem #00000026}.btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.65}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}"]})};function Mr(n,t){if(n&1){let e=w();r(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h5",9),a(5),o(),r(6,"span",10),a(7),o()(),r(8,"p",11),c(9,"i",12),a(10),o(),r(11,"p",11),c(12,"i",13),a(13),o(),r(14,"p",14),c(15,"i",15),a(16),Y(17,"currency"),o(),r(18,"div",16)(19,"button",17),p("click",function(){let l=_(e).$implicit,d=g();return C(d.onEditClick(l))}),c(20,"i",18),a(21,"Edit "),o(),r(22,"button",19),p("click",function(){let l=_(e).$implicit,d=g();return C(d.onDeleteClick(l))}),c(23,"i",20),a(24,"Delete "),o()()()()()}if(n&2){let e=t.$implicit;s(5),O(e.name),s(2),h("\u2605 ",e.rating,""),s(3),h("",e.location," "),s(3),h("Rooms Available: ",e.roomsAvailable," "),s(3),h("",te(17,5,e.pricePerNight,"INR"),"/night ")}}function Sr(n,t){if(n&1){let e=w();r(0,"app-edit-hotel",21),p("hotelUpdated",function(){_(e);let l=g();return C(l.onHotelUpdated())})("modalClosed",function(){_(e);let l=g();return C(l.showEditModal=!1)}),o()}if(n&2){let e=g();m("hotel",e.selectedHotel)}}function kr(n,t){if(n&1){let e=w();r(0,"app-delete-hotel",22),p("hotelDeleted",function(){_(e);let l=g();return C(l.onHotelDeleted())})("modalClosed",function(){_(e);let l=g();return C(l.showDeleteModal=!1)}),o()}if(n&2){let e=g();m("hotel",e.selectedHotel)}}var xn=class n{constructor(t,e,i){this.hotelService=t;this.reviewService=e;this.router=i}hotels=[];selectedHotel=null;showEditModal=!1;showDeleteModal=!1;allHotels=[];ngOnInit(){this.loadHotels()}loadHotels(){this.hotelService.getAllHotels().subscribe(t=>{this.hotels=t,this.hotels.forEach(e=>{this.reviewService.getAverageRatingByHotelId(e.hotelId).subscribe({next:i=>{e.rating=i},error:i=>{console.error(`Failed to fetch average rating for hotel ID ${e.hotelId}:`,i),e.rating=0}})})})}onEditClick(t){this.selectedHotel=t,this.showEditModal=!0}onDeleteClick(t){this.selectedHotel=t,this.showDeleteModal=!0}onHotelUpdated(){this.loadHotels(),this.showEditModal=!1,this.selectedHotel=null}onHotelDeleted(){this.loadHotels(),this.showDeleteModal=!1,this.selectedHotel=null}static \u0275fac=function(e){return new(e||n)(u(ge),u(he),u(W))};static \u0275cmp=x({type:n,selectors:[["app-manage-hotels"]],decls:7,vars:3,consts:[[1,"container"],[1,"mb-4"],[1,"row"],["class","col-md-6 mb-4",4,"ngFor","ngForOf"],[3,"hotel"],[1,"col-md-6","mb-4"],[1,"card","h-100"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start"],[1,"card-title","mb-3"],[1,"badge","bg-success"],[1,"card-text","mb-2"],[1,"fas","fa-map-marker-alt","me-2"],[1,"fas","fa-bed","me-2"],[1,"card-text","mb-3"],[1,"fas","fa-rupee-sign","me-2"],[1,"d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-edit","me-2"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash","me-2"],[3,"hotelUpdated","modalClosed","hotel"],[3,"hotelDeleted","modalClosed","hotel"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h3",1),a(2,"Manage Hotels"),o(),r(3,"div",2),b(4,Mr,25,8,"div",3),o(),b(5,Sr,1,1,"app-edit-hotel",4)(6,kr,1,1,"app-delete-hotel",4),o()),e&2&&(s(4),m("ngForOf",i.hotels),s(),B(i.showEditModal?5:-1),s(),B(i.showDeleteModal?6:-1))},dependencies:[y,$,rt,_n,Cn],encapsulation:2})};function Pr(n,t){n&1&&c(0,"app-add-hotel")}function Er(n,t){n&1&&c(0,"app-manage-hotels")}function Fr(n,t){n&1&&(r(0,"div",14)(1,"h3",15),a(2,"Select an option above to get started"),o()())}var yn=class n{selectedSection=null;showSection(t){this.selectedSection=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-manager-dashboard"]],decls:21,vars:11,consts:[[1,"dashboard-container"],[1,"navbar","navbar-dark","bg-primary","mb-4"],[1,"container"],[1,"navbar-brand"],[1,"row","mb-4"],[1,"col-12"],[1,"d-flex","justify-content-center","gap-3"],[1,"btn","btn-lg","px-4",3,"click"],[1,"fas","fa-plus-circle","me-2"],[1,"fas","fa-list","me-2"],[1,"row"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","text-center py-5",4,"ngSwitchDefault"],[1,"text-center","py-5"],[1,"text-muted"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"nav",1)(2,"div",2)(3,"span",3),a(4,"Hotel Manager Dashboard"),o()()(),r(5,"div",2)(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),p("click",function(){return i.showSection("addHotel")}),c(10,"i",8),a(11,"Add Hotel "),o(),r(12,"button",7),p("click",function(){return i.showSection("manageHotels")}),c(13,"i",9),a(14,"Manage Hotels "),o()()()(),r(15,"div",10)(16,"div",5)(17,"div",11),b(18,Pr,1,0,"app-add-hotel",12)(19,Er,1,0,"app-manage-hotels",12)(20,Fr,3,0,"div",13),o()()()()()),e&2&&(s(9),N("btn-primary",i.selectedSection!=="addHotel")("btn-success",i.selectedSection==="addHotel"),s(3),N("btn-primary",i.selectedSection!=="manageHotels")("btn-success",i.selectedSection==="manageHotels"),s(5),m("ngSwitch",i.selectedSection),s(),m("ngSwitchCase","addHotel"),s(),m("ngSwitchCase","manageHotels"))},dependencies:[y,zt,qt,$t,Z,bn,xn],styles:[".dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}.btn[_ngcontent-%COMP%]{transition:all .3s ease;min-width:180px}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.btn.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}"]})};var Or=()=>[5,4,3,2,1],Ar=(n,t)=>t.reviewID;function Ir(n,t){if(n&1){let e=w();r(0,"div",28),p("click",function(){let l=_(e).$implicit,d=g();return C(d.filterByRating(l))}),r(1,"span",29),a(2),o(),r(3,"div",30),c(4,"div",31),o(),r(5,"span",6),a(6),o()()}if(n&2){let e=t.$implicit,i=g();N("active",i.filterRating===e),s(2),h("",e," stars"),s(2),di("width",i.getRatingPercentage(e),"%"),N("bg-warning",i.filterRating===e),s(2),h(" ",i.reviewStats.ratingDistribution.get(e)||0," ")}}function Dr(n,t){if(n&1){let e=w();r(0,"div",9),a(1),r(2,"button",32),p("click",function(){_(e);let l=g();return C(l.errorMessage="")}),o()()}if(n&2){let e=g();s(),h(" ",e.errorMessage," ")}}function Vr(n,t){if(n&1){let e=w();r(0,"div",10),a(1),r(2,"button",32),p("click",function(){_(e);let l=g();return C(l.successMessage="")}),o()()}if(n&2){let e=g();s(),h(" ",e.successMessage," ")}}function Nr(n,t){n&1&&(r(0,"h4"),a(1,"Write a Review"),o())}function Rr(n,t){n&1&&(r(0,"h4"),a(1,"Edit Your Review"),o())}function Tr(n,t){if(n&1&&(r(0,"div",17),a(1),o()),n&2){let e=g();s(),h(" ",e.getErrorMessage("rating")," ")}}function Hr(n,t){if(n&1&&(r(0,"div",19),a(1),o()),n&2){let e=g();s(),h(" ",e.getErrorMessage("comment")," ")}}function Ur(n,t){n&1&&(c(0,"span",34),a(1," Submitting... "))}function Br(n,t){n&1&&a(0," Submit Review ")}function jr(n,t){if(n&1&&(r(0,"div")(1,"button",33),b(2,Ur,2,0)(3,Br,1,0),o()()),n&2){let e=g();s(),m("disabled",e.reviewForm.invalid||e.isSubmitting),s(),B(e.isSubmitting?2:3)}}function Lr(n,t){n&1&&c(0,"span",34)}function Gr(n,t){if(n&1){let e=w();r(0,"div",35)(1,"button",33),b(2,Lr,1,0,"span",36),a(3," Update Review "),o(),r(4,"button",37),p("click",function(){_(e);let l=g();return C(l.onDelete())}),a(5," Delete Review "),o()()}if(n&2){let e=g();s(),m("disabled",e.reviewForm.invalid||e.isSubmitting),s(),m("ngIf",e.isSubmitting),s(2),m("disabled",e.isSubmitting)}}function zr(n,t){if(n&1){let e=w();r(0,"button",38),p("click",function(){_(e);let l=g();return C(l.filterByRating(null))}),a(1," Clear Filter "),o()}}function qr(n,t){if(n&1&&(r(0,"div",39)(1,"div",40),c(2,"app-star-rating",5),r(3,"div",41)(4,"strong"),a(5),o(),r(6,"small",42),a(7),Y(8,"date"),o()()(),r(9,"div",43),a(10),o()()),n&2){let e=t.$implicit;s(2),m("rating",e.rating)("maxRating",5)("isReadOnly",!0),s(3),O(e.user.username||"Anonymous"),s(2),h(" ",te(8,6,e.timestamp,"medium")," "),s(3),O(e.comment)}}function $r(n,t){if(n&1&&(r(0,"div",26),Ct(1,qr,11,9,"div",39,Ar),o()),n&2){let e=g();s(),xt(e.filteredReviews)}}function Wr(n,t){n&1&&(r(0,"div",27)(1,"p",44),a(2,"No reviews yet. Be the first to share your experience!"),o()())}var vt=class n{constructor(t,e,i){this.reviewService=t;this.authService=e;this.fb=i}hotelId;reviews=[];filteredReviews=[];reviewForm;isSubmitting=!1;errorMessage="";successMessage="";sortOrder="newest";filterRating=null;isLoading=!1;reviewStats={averageRating:0,totalReviews:0,ratingDistribution:new Map};destroy$=new Ne;userReview=null;ngOnInit(){if(!this.hotelId){this.setError("Hotel ID is required");return}this.initForm(),this.loadReviews()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initForm(){this.reviewForm=this.fb.group({rating:[0,[v.required,v.min(1),v.max(5)]],comment:["",[v.required,v.minLength(10),v.maxLength(500)]]})}loadReviews(){this.isLoading=!0,this.reviewService.getReviewsByHotelId(this.hotelId).pipe(Ie(this.destroy$)).subscribe({next:t=>{this.reviews=t,this.updateReviewStats(),this.applyFiltersAndSort(),this.findUserReview(),this.isLoading=!1},error:t=>{this.setError("Failed to load reviews"),this.isLoading=!1,console.error(t)}})}updateReviewStats(){if(!this.reviews.length){this.resetStats();return}let t=this.reviews.reduce((e,i)=>e+i.rating,0);this.reviewStats.averageRating=t/this.reviews.length,this.reviewStats.totalReviews=this.reviews.length,this.reviewStats.ratingDistribution.clear(),this.reviews.forEach(e=>{let i=this.reviewStats.ratingDistribution.get(e.rating)||0;this.reviewStats.ratingDistribution.set(e.rating,i+1)})}resetStats(){this.reviewStats={averageRating:0,totalReviews:0,ratingDistribution:new Map}}findUserReview(){let t=this.authService.getCurrentUserId();t&&(this.userReview=this.reviews.find(e=>e.user.userId===t)||null,this.userReview&&this.reviewForm.patchValue({rating:this.userReview.rating,comment:this.userReview.comment}))}getRatingPercentage(t){return this.reviewStats.totalReviews?(this.reviewStats.ratingDistribution.get(t)||0)/this.reviewStats.totalReviews*100:0}filterByRating(t){this.filterRating=t,this.applyFiltersAndSort()}applyFiltersAndSort(){this.filteredReviews=[...this.reviews],this.filterRating&&(this.filteredReviews=this.filteredReviews.filter(e=>e.rating===this.filterRating));let t={newest:(e,i)=>new Date(i.timestamp).getTime()-new Date(e.timestamp).getTime(),highest:(e,i)=>i.rating-e.rating,lowest:(e,i)=>e.rating-i.rating};this.filteredReviews.sort(t[this.sortOrder])}onRatingChange(t){this.reviewForm.patchValue({rating:t})}onSubmit(){if(this.reviewForm.invalid||this.isSubmitting){this.reviewForm.markAllAsTouched();return}this.isSubmitting=!0,this.clearMessages();let t=this.authService.getCurrentUserId();if(!t){this.setError("Please log in to submit a review"),this.isSubmitting=!1;return}let e=de(ee({},this.reviewForm.value),{hotel:{hotelId:this.hotelId},user:{userId:t},timestamp:new Date});(this.userReview?this.reviewService.updateReview(this.userReview.reviewID,e):this.reviewService.addReview(e)).subscribe({next:l=>{this.successMessage=this.userReview?"Review updated successfully!":"Review submitted successfully!",this.userReview=l,this.loadReviews(),this.isSubmitting=!1},error:l=>{this.setError("Failed to submit review"),console.error(l),this.isSubmitting=!1}})}onDelete(){this.userReview&&(this.isSubmitting=!0,this.clearMessages(),this.reviewService.deleteReview(this.userReview.reviewID).subscribe({next:()=>{this.successMessage="Review deleted successfully!",this.userReview=null,this.reviewForm.reset({rating:0,comment:""}),this.loadReviews(),this.isSubmitting=!1},error:t=>{this.setError("Failed to delete review"),console.error(t),this.isSubmitting=!1}}))}trackByReviewId(t,e){return e.reviewID}getErrorMessage(t){let e=this.reviewForm.get(t);if(!e?.errors||!e.touched)return"";let i={required:`${t} is required`,min:`${t} must be at least ${e.errors.min?.min}`,max:`${t} must be at most ${e.errors.max?.max}`,minlength:`${t} must be at least ${e.errors.minlength?.requiredLength} characters`,maxlength:`${t} must be at most ${e.errors.maxlength?.requiredLength} characters`},l=Object.keys(e.errors)[0];return i[l]||"Invalid input"}setError(t){this.errorMessage=t,console.error(t)}clearMessages(){this.errorMessage="",this.successMessage=""}static \u0275fac=function(e){return new(e||n)(u(he),u(Q),u(G))};static \u0275cmp=x({type:n,selectors:[["app-review-by-hotel"]],inputs:{hotelId:"hotelId"},decls:46,vars:37,consts:[[1,"reviews-container"],[1,"reviews-header"],[1,"rating-summary"],[1,"average-rating"],[1,"rating-number"],[3,"rating","maxRating","isReadOnly"],[1,"rating-count"],[1,"rating-distribution"],[1,"rating-bar",3,"active"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"review-form-container"],[4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],[3,"ratingChange","rating","maxRating","isReadOnly"],[1,"text-danger","small"],["rows","4","formControlName","comment","placeholder","Share your experience...",1,"form-control"],[1,"invalid-feedback"],["class","d-flex gap-2",4,"ngIf"],[1,"reviews-list","mt-4"],[1,"sort-controls","mb-3"],[1,"btn-group"],[1,"btn",3,"click"],[1,"btn","btn-outline-secondary","ms-2"],[1,"reviews-grid"],[1,"text-center","py-5"],[1,"rating-bar",3,"click"],[1,"rating-label"],[1,"progress"],[1,"progress-bar"],["type","button",1,"btn-close",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"d-flex","gap-2"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"review-card"],[1,"review-header"],[1,"review-meta"],[1,"text-muted","d-block"],[1,"review-content"],[1,"text-muted","mb-0"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),a(3,"Customer Reviews"),o(),r(4,"div",2)(5,"div",3)(6,"div",4),a(7),Y(8,"number"),o(),c(9,"app-star-rating",5),r(10,"div",6),a(11),o()(),r(12,"div",7),Ct(13,Ir,7,8,"div",8,jt),o()()(),b(15,Dr,3,1,"div",9)(16,Vr,3,1,"div",10),r(17,"div",11),b(18,Nr,2,0,"h4",12)(19,Rr,2,0,"h4",12),r(20,"form",13),p("ngSubmit",function(){return i.onSubmit()}),r(21,"div",14)(22,"label",15),a(23,"Rating"),o(),r(24,"app-star-rating",16),p("ratingChange",function(d){return i.onRatingChange(d)}),o(),b(25,Tr,2,1,"div",17),o(),r(26,"div",14)(27,"label",15),a(28,"Your Review"),o(),r(29,"textarea",18),a(30,"          "),o(),b(31,Hr,2,1,"div",19),o(),b(32,jr,4,2,"div",12)(33,Gr,6,3,"div",20),o()(),r(34,"div",21)(35,"div",22)(36,"div",23)(37,"button",24),p("click",function(){return i.sortOrder="newest",i.applyFiltersAndSort()}),a(38," Newest "),o(),r(39,"button",24),p("click",function(){return i.sortOrder="highest",i.applyFiltersAndSort()}),a(40," Highest Rated "),o(),r(41,"button",24),p("click",function(){return i.sortOrder="lowest",i.applyFiltersAndSort()}),a(42," Lowest Rated "),o()(),b(43,zr,2,0,"button",25),o(),b(44,$r,3,0,"div",26)(45,Wr,3,0,"div",27),o()()),e&2){let l,d,f,F;s(7),O(te(8,33,i.reviewStats.averageRating,"1.1-1")),s(2),m("rating",i.reviewStats.averageRating)("maxRating",5)("isReadOnly",!0),s(2),h("Based on ",i.reviewStats.totalReviews," reviews"),s(2),xt(ui(36,Or)),s(2),B(i.errorMessage?15:-1),s(),B(i.successMessage?16:-1),s(2),m("ngIf",!i.userReview),s(),m("ngIf",i.userReview),s(),m("formGroup",i.reviewForm),s(4),m("rating",((l=i.reviewForm.get("rating"))==null?null:l.value)||0)("maxRating",5)("isReadOnly",!1),s(),B((d=i.reviewForm.get("rating"))!=null&&d.invalid&&((d=i.reviewForm.get("rating"))!=null&&d.touched)?25:-1),s(4),N("is-invalid",((f=i.reviewForm.get("comment"))==null?null:f.invalid)&&((f=i.reviewForm.get("comment"))==null?null:f.touched)),s(2),B((F=i.reviewForm.get("comment"))!=null&&F.invalid&&((F=i.reviewForm.get("comment"))!=null&&F.touched)?31:-1),s(),m("ngIf",!i.userReview),s(),m("ngIf",i.userReview),s(4),N("btn-primary",i.sortOrder==="newest")("btn-outline-primary",i.sortOrder!=="newest"),s(2),N("btn-primary",i.sortOrder==="highest")("btn-outline-primary",i.sortOrder!=="highest"),s(2),N("btn-primary",i.sortOrder==="lowest")("btn-outline-primary",i.sortOrder!=="lowest"),s(2),B(i.filterRating?43:-1),s(),B(i.filteredReviews.length?44:45)}},dependencies:[y,R,Te,Ee,z,E,M,k,P,j,L,at,ht],styles:[".reviews-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.reviews-header[_ngcontent-%COMP%]{margin-bottom:2rem}.rating-summary[_ngcontent-%COMP%]{display:flex;gap:3rem;padding:1.5rem;background-color:#f8f9fa;border-radius:8px;margin-top:1rem}.average-rating[_ngcontent-%COMP%]{text-align:center;min-width:200px}.rating-number[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#0d6efd;line-height:1}.rating-count[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin-top:.5rem}.rating-distribution[_ngcontent-%COMP%]{flex-grow:1}.rating-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.5rem;cursor:pointer;padding:.25rem;border-radius:4px;transition:background-color .2s}.rating-bar[_ngcontent-%COMP%]:hover{background-color:#0000000d}.rating-label[_ngcontent-%COMP%]{min-width:80px}.progress[_ngcontent-%COMP%]{flex-grow:1;height:8px}.review-form-container[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1.5rem;border-radius:8px;margin:2rem 0}.reviews-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.review-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dee2e6;border-radius:8px;padding:1rem;transition:transform .2s,box-shadow .2s}.review-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.review-meta[_ngcontent-%COMP%]{text-align:right}.review-content[_ngcontent-%COMP%]{color:#212529;line-height:1.5;white-space:pre-line}.sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:120px}.text-danger.small[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}@media (max-width: 768px){.rating-summary[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.average-rating[_ngcontent-%COMP%]{min-width:auto}}"]})};var bt=class n{constructor(t){this.http=t}baseUrl="http://localhost:9070/api/payments";bookHotel(t,e,i,l,d){let f={userId:t,email:e,hotelId:i,bookingDate:l,quantity:d};return this.http.post(`${this.baseUrl}/hotels`,null,{params:f}).pipe(U(this.handleError))}bookFlight(t,e,i,l,d){let f={userId:t,emailId:e,flightId:i,flightDate:l,quantity:d};return this.http.post(`${this.baseUrl}/flights`,null,{params:f}).pipe(U(this.handleError))}handleError(t){let e="An error occurred";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:e=`Error Code: ${t.status}
Message: ${t.error?.message||t.message}`,console.error(e),Me(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(Ce(H))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})};function Yr(n,t){n&1&&(r(0,"div",1)(1,"div",4)(2,"span",5),a(3,"Loading..."),o()()())}function Jr(n,t){if(n&1){let e=w();r(0,"div",2),a(1),r(2,"button",6),p("click",function(){_(e);let l=g();return C(l.errorMessage="")}),o()()}if(n&2){let e=g();s(),h(" ",e.errorMessage," ")}}function Zr(n,t){if(n&1&&(r(0,"div",27),a(1),o()),n&2){let e=g(2);s(),h(" ",e.getErrorMessage("checkIn")," ")}}function Kr(n,t){if(n&1&&(r(0,"div",27),a(1),o()),n&2){let e=g(2);s(),h(" ",e.getErrorMessage("checkOut")," ")}}function Qr(n,t){if(n&1&&(r(0,"div",27),a(1),o()),n&2){let e=g(2);s(),h(" ",e.getErrorMessage("guestsRooms")," ")}}function Xr(n,t){if(n&1&&(r(0,"div",27),a(1),o()),n&2){let e=g(2);s(),h(" ",e.getErrorMessage("firstName")," ")}}function ea(n,t){if(n&1&&(r(0,"div",27),a(1),o()),n&2){let e=g(2);s(),h(" ",e.getErrorMessage("lastName")," ")}}function ta(n,t){if(n&1&&(r(0,"div",27),a(1),o()),n&2){let e=g(2);s(),h(" ",e.getErrorMessage("email")," ")}}function na(n,t){if(n&1&&(r(0,"div",27),a(1),o()),n&2){let e=g(2);s(),h(" ",e.getErrorMessage("phone")," ")}}function ia(n,t){n&1&&(c(0,"span",42),a(1," Processing... "))}function oa(n,t){n&1&&a(0," Confirm Booking ")}function ra(n,t){if(n&1&&(r(0,"a",48),a(1," Pay Now "),o()),n&2){let e=g(3);m("href",e.bookingDetails.sessionUrl,et)}}function aa(n,t){if(n&1){let e=w();r(0,"div",43)(1,"div",44)(2,"h3"),a(3,"Confirm Booking"),o(),r(4,"p")(5,"strong"),a(6,"Hotel:"),o(),a(7),o(),r(8,"p")(9,"strong"),a(10,"Email:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"Check-in Date:"),o(),a(15),o(),r(16,"p")(17,"strong"),a(18,"Check-out Date:"),o(),a(19),o(),r(20,"p")(21,"strong"),a(22,"Guests/Rooms:"),o(),a(23),o(),r(24,"p")(25,"strong"),a(26,"Phone:"),o(),a(27),o(),r(28,"p")(29,"strong"),a(30,"Special Requests:"),o(),a(31),o(),r(32,"p")(33,"strong"),a(34,"Total Price:"),o(),a(35),Y(36,"currency"),o(),r(37,"button",45),p("click",function(){_(e);let l=g(2);return C(l.confirmBooking())}),a(38,"Confirm"),o(),b(39,ra,2,1,"a",46),r(40,"button",47),p("click",function(){_(e);let l=g(2);return C(l.closePopup())}),a(41,"Cancel"),o()()()}if(n&2){let e=g(2);s(7),h(" ",e.bookingDetails.hotelName,""),s(4),h(" ",e.bookingDetails.email,""),s(4),h(" ",e.bookingDetails.checkIn,""),s(4),h(" ",e.bookingDetails.checkOut,""),s(4),h(" ",e.bookingDetails.guestsRooms,""),s(4),h(" ",e.bookingDetails.phone,""),s(4),h(" ",e.bookingDetails.specialRequests,""),s(4),h(" ",te(36,9,e.bookingDetails.totalPrice,"INR"),""),s(4),m("ngIf",e.bookingDetails.sessionUrl)}}function la(n,t){if(n&1){let e=w();r(0,"div",7)(1,"div",8)(2,"h2",9),a(3),o(),r(4,"div",10)(5,"div",11)(6,"div",12)(7,"p",13),c(8,"i",14),a(9),o(),r(10,"div",15)(11,"span",16),a(12),Y(13,"number"),o(),r(14,"span",17),a(15),o()(),r(16,"p",18),a(17),o()(),r(18,"div",19)(19,"h3",20),a(20),Y(21,"currency"),r(22,"small",17),a(23,"/night"),o()()()()()()(),r(24,"div",7)(25,"div",8)(26,"h3",21),a(27,"Book Your Stay"),o(),r(28,"form",22),p("ngSubmit",function(){_(e);let l=g();return C(l.onSubmit())}),r(29,"div",23)(30,"div",24)(31,"label",25),a(32,"Check In"),o(),c(33,"input",26),b(34,Zr,2,1,"div",27),o(),r(35,"div",24)(36,"label",25),a(37,"Check Out"),o(),c(38,"input",28),b(39,Kr,2,1,"div",27),o(),r(40,"div",24)(41,"label",25),a(42,"Guests/Rooms"),o(),c(43,"input",29),b(44,Qr,2,1,"div",27),o(),r(45,"div",30)(46,"label",25),a(47,"First Name"),o(),c(48,"input",31),b(49,Xr,2,1,"div",27),o(),r(50,"div",30)(51,"label",25),a(52,"Last Name"),o(),c(53,"input",32),b(54,ea,2,1,"div",27),o(),r(55,"div",30)(56,"label",25),a(57,"Email"),o(),c(58,"input",33),b(59,ta,2,1,"div",27),o(),r(60,"div",30)(61,"label",25),a(62,"Phone"),o(),c(63,"input",34),b(64,na,2,1,"div",27),o(),r(65,"div",35)(66,"label",25),a(67,"Special Requests"),o(),c(68,"textarea",36),o(),r(69,"div",37)(70,"button",38),b(71,ia,2,0)(72,oa,1,0),o()()()()()(),b(73,aa,42,12,"div",39),r(74,"div",40)(75,"div",8)(76,"h3",21),a(77,"Reviews"),o(),c(78,"app-review-by-hotel",41),o()()}if(n&2){let e,i,l,d,f,F,q,_e,Ae,Dt,Vt,Nt,Rt,Tt,A=g();s(3),O(A.hotel.name),s(6),h(" ",A.hotel.location," "),s(3),h("\u2605 ",te(13,32,A.averageRating,"1.1-1"),""),s(3),h("",(A.hotel.reviews==null?null:A.hotel.reviews.length)||0," reviews"),s(2),O(A.hotel.description),s(3),h(" ",te(21,35,A.hotel.pricePerNight,"INR")," "),s(8),m("formGroup",A.bookingForm),s(5),N("is-invalid",((e=A.bookingForm.get("checkIn"))==null?null:e.invalid)&&((e=A.bookingForm.get("checkIn"))==null?null:e.touched)),s(),B((i=A.bookingForm.get("checkIn"))!=null&&i.invalid&&((i=A.bookingForm.get("checkIn"))!=null&&i.touched)?34:-1),s(4),N("is-invalid",((l=A.bookingForm.get("checkOut"))==null?null:l.invalid)&&((l=A.bookingForm.get("checkOut"))==null?null:l.touched)),s(),B((d=A.bookingForm.get("checkOut"))!=null&&d.invalid&&((d=A.bookingForm.get("checkOut"))!=null&&d.touched)?39:-1),s(4),N("is-invalid",((f=A.bookingForm.get("guestsRooms"))==null?null:f.invalid)&&((f=A.bookingForm.get("guestsRooms"))==null?null:f.touched)),s(),B((F=A.bookingForm.get("guestsRooms"))!=null&&F.invalid&&((F=A.bookingForm.get("guestsRooms"))!=null&&F.touched)?44:-1),s(4),N("is-invalid",((q=A.bookingForm.get("firstName"))==null?null:q.invalid)&&((q=A.bookingForm.get("firstName"))==null?null:q.touched)),s(),B((_e=A.bookingForm.get("firstName"))!=null&&_e.invalid&&((_e=A.bookingForm.get("firstName"))!=null&&_e.touched)?49:-1),s(4),N("is-invalid",((Ae=A.bookingForm.get("lastName"))==null?null:Ae.invalid)&&((Ae=A.bookingForm.get("lastName"))==null?null:Ae.touched)),s(),B((Dt=A.bookingForm.get("lastName"))!=null&&Dt.invalid&&((Dt=A.bookingForm.get("lastName"))!=null&&Dt.touched)?54:-1),s(4),N("is-invalid",((Vt=A.bookingForm.get("email"))==null?null:Vt.invalid)&&((Vt=A.bookingForm.get("email"))==null?null:Vt.touched)),s(),B((Nt=A.bookingForm.get("email"))!=null&&Nt.invalid&&((Nt=A.bookingForm.get("email"))!=null&&Nt.touched)?59:-1),s(4),N("is-invalid",((Rt=A.bookingForm.get("phone"))==null?null:Rt.invalid)&&((Rt=A.bookingForm.get("phone"))==null?null:Rt.touched)),s(),B((Tt=A.bookingForm.get("phone"))!=null&&Tt.invalid&&((Tt=A.bookingForm.get("phone"))!=null&&Tt.touched)?64:-1),s(6),m("disabled",A.bookingForm.invalid||A.isLoading),s(),B(A.isLoading?71:72),s(2),m("ngIf",A.showConfirmationPopup),s(5),m("hotelId",A.hotelId)}}function sa(n,t){n&1&&(r(0,"div",3),a(1," Loading hotel details... "),o())}var wn=class n{constructor(t,e,i,l,d,f,F){this.route=t;this.router=e;this.hotelService=i;this.reviewService=l;this.paymentService=d;this.authService=f;this.fb=F;this.initForm()}hotelId;hotel;bookingForm;isLoading=!1;errorMessage="";successMessage="";averageRating=0;destroy$=new Ne;showConfirmationPopup=!1;bookingDetails={};userId;initForm(){this.bookingForm=this.fb.group({checkIn:["",v.required],checkOut:["",v.required],guestsRooms:["",[v.required,v.min(1)]],firstName:["",[v.required,v.minLength(2)]],lastName:["",[v.required,v.minLength(2)]],email:["",[v.required,v.email]],phone:["",[v.required,v.pattern(/^\+?[0-9]{10,12}$/)]],specialRequests:[""]})}ngOnInit(){this.route.params.pipe(Ie(this.destroy$)).subscribe(e=>{this.hotelId=+e.id,this.loadHotelDetails(),this.loadHotelRating()});let t=this.authService.getCurrentUserId();if(t===null)throw new Error("User ID is null. Please ensure the user is logged in.");this.userId=t,console.log("Retrieved userId:",this.userId)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadHotelDetails(){this.isLoading=!0,this.hotelService.getHotelById(this.hotelId).pipe(Ie(this.destroy$)).subscribe({next:t=>{this.hotel=t,this.isLoading=!1},error:t=>{this.errorMessage="Error loading hotel details",this.isLoading=!1,console.error("Error loading hotel:",t)}})}loadHotelRating(){this.reviewService.getAverageRatingByHotelId(this.hotelId).pipe(Ie(this.destroy$)).subscribe({next:t=>{this.averageRating=t},error:t=>{console.error(`Failed to load average rating for hotel ID ${this.hotelId}`,t),this.averageRating=0}})}onSubmit(){if(this.bookingForm.invalid||this.isLoading){this.bookingForm.markAllAsTouched();return}this.bookingDetails={hotelName:this.hotel?.name,email:this.bookingForm.value.email,checkIn:this.bookingForm.value.checkIn,checkOut:this.bookingForm.value.checkOut,guestsRooms:this.bookingForm.value.guestsRooms,phone:this.bookingForm.value.phone,specialRequests:this.bookingForm.value.specialRequests,totalPrice:this.calculateTotalPrice()},this.showConfirmationPopup=!0}confirmBooking(){let t=de(ee({},this.bookingForm.value),{hotelId:this.hotelId,userId:this.userId,totalPrice:this.calculateTotalPrice()});console.log("Booking Data:",t),this.isLoading=!0,this.clearMessages();let e=new Date(t.checkIn).toISOString().split("T")[0];this.paymentService.bookHotel(t.userId,t.email,this.hotelId,e,t.guestsRooms).subscribe({next:i=>{console.log("Backend Response:",i),this.isLoading=!1,this.bookingDetails.sessionUrl=i.sessionUrl,this.showConfirmationPopup=!0,console.log("Session URL:",this.bookingDetails.sessionUrl)},error:i=>{this.isLoading=!1,this.errorMessage="Failed to initiate payment. Please try again.",console.error("Payment error:",i)}})}closePopup(){this.showConfirmationPopup=!1}calculateTotalPrice(){if(!this.hotel?.pricePerNight)return 0;let t=new Date(this.bookingForm.value.checkIn),e=new Date(this.bookingForm.value.checkOut),i=Math.ceil((e.getTime()-t.getTime())/(1e3*60*60*24));if(isNaN(i)||i<=0)return 0;let l=Number(this.bookingForm.value.guestsRooms)||1;return this.hotel.pricePerNight*i*l}getErrorMessage(t){let e=this.bookingForm.get(t);if(!e?.errors||!e.touched)return"";let i={required:`${t} is required`,email:"Invalid email address",min:`Minimum value is ${e.errors.min?.min}`,minlength:`Minimum length is ${e.errors.minlength?.requiredLength}`,pattern:"Invalid format"},l=Object.keys(e.errors)[0];return i[l]||"Invalid input"}clearMessages(){this.errorMessage="",this.successMessage=""}static \u0275fac=function(e){return new(e||n)(u(Fe),u(W),u(ge),u(he),u(bt),u(Q),u(G))};static \u0275cmp=x({type:n,selectors:[["app-hotel-booking"]],decls:5,vars:3,consts:[[1,"container","my-4"],[1,"text-center","py-5"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"alert","alert-info"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["type","button",1,"btn-close",3,"click"],[1,"card","mb-4"],[1,"card-body"],[1,"card-title"],[1,"hotel-details"],[1,"row"],[1,"col-md-8"],[1,"mb-2"],[1,"fas","fa-map-marker-alt","me-2"],[1,"d-flex","align-items-center","mb-3"],[1,"badge","bg-success","me-2"],[1,"text-muted"],[1,"hotel-description"],[1,"col-md-4","text-end"],[1,"text-primary","mb-0"],[1,"card-title","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label"],["type","date","formControlName","checkIn",1,"form-control"],[1,"invalid-feedback"],["type","date","formControlName","checkOut",1,"form-control"],["type","number","formControlName","guestsRooms","min","1",1,"form-control"],[1,"col-md-6"],["type","text","formControlName","firstName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","tel","formControlName","phone",1,"form-control"],[1,"col-12"],["rows","3","formControlName","specialRequests",1,"form-control"],[1,"col-12","text-end"],["type","submit",1,"btn","btn-primary","px-5",3,"disabled"],["class","popup-overlay",4,"ngIf"],[1,"card"],[3,"hotelId"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"popup-overlay"],[1,"popup"],[1,"btn","btn-success","me-2",3,"click"],["target","_blank","class","btn btn-primary",3,"href",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["target","_blank",1,"btn","btn-primary",3,"href"]],template:function(e,i){e&1&&(r(0,"div",0),b(1,Yr,4,0,"div",1)(2,Jr,3,1,"div",2)(3,la,79,38)(4,sa,2,0,"div",3),o()),e&2&&(s(),B(i.isLoading?1:-1),s(),B(i.errorMessage?2:-1),s(),B(i.hotel?3:4))},dependencies:[y,R,Te,rt,z,E,M,J,k,P,ke,j,L,vt],styles:[".hotel-details[_ngcontent-%COMP%]{padding:1rem 0}.hotel-description[_ngcontent-%COMP%]{color:#6c757d;line-height:1.6}.badge[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem .75rem}.card[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0000001a;border:none;margin-bottom:2rem}.card-title[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#495057}.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .25rem #0d6efd40}.btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:500}.text-primary[_ngcontent-%COMP%]{color:#0d6efd!important}.spinner-border[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}@media (max-width: 768px){.hotel-details[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{text-align:left!important;margin-top:1rem}}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000001a;text-align:center}"]})};function da(n,t){if(n&1){let e=w();r(0,"div",5)(1,"h5"),a(2),o(),r(3,"p"),a(4),o(),r(5,"p")(6,"strong"),a(7,"Price:"),o(),a(8),o(),r(9,"button",6),p("click",function(){let l=_(e).$implicit,d=g();return C(d.addActivity(l))}),a(10,"Add"),o()()}if(n&2){let e=t.$implicit;s(2),O(e.name),s(2),O(e.description),s(4),h(" \u20B9",e.price,"")}}var At=class n{constructor(t){this.http=t}location="";activityAdded=new ie;activities=[];isVisible=!1;fetchActivities(){this.http.get(`http://localhost:9070/activities/GetActivityByLocation?location=${this.location}`).subscribe(t=>{Array.isArray(t)?this.activities=t:t?this.activities=[t]:this.activities=[]},t=>{console.error("Error fetching activities:",t),this.activities=[]})}open(){this.isVisible=!0,this.fetchActivities()}close(){this.isVisible=!1}addActivity(t){this.activityAdded.emit(t),this.close()}static \u0275fac=function(e){return new(e||n)(u(H))};static \u0275cmp=x({type:n,selectors:[["app-activity-selector"]],inputs:{location:"location"},outputs:{activityAdded:"activityAdded"},decls:8,vars:3,consts:[[1,"activity-selector"],[1,"header"],[1,"close-btn",3,"click"],[1,"activities"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),a(3,"Available Activities"),o(),r(4,"button",2),p("click",function(){return i.close()}),a(5,"\xD7"),o()(),r(6,"div",3),b(7,da,11,3,"div",4),o()()),e&2&&(N("visible",i.isVisible),s(7),m("ngForOf",i.activities))},dependencies:[y,$],styles:[".activity-selector[_ngcontent-%COMP%]{position:fixed;top:0;right:-400px;width:400px;height:100%;background:#f8f9fa;box-shadow:-2px 0 5px #0003;overflow-y:auto;transition:right .3s ease-in-out;z-index:1000}.activity-selector.visible[_ngcontent-%COMP%]{right:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#007bff;color:#fff}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer}.activities[_ngcontent-%COMP%]{padding:1rem}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:5px;padding:1rem;margin-bottom:1rem;box-shadow:0 2px 5px #0000001a}.card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]})};function ca(n,t){if(n&1&&(r(0,"li"),a(1),o()),n&2){let e=t.$implicit;s(),Se(" ",e.name," - \u20B9",e.price," ")}}function ma(n,t){if(n&1&&(r(0,"div")(1,"p")(2,"strong"),a(3,"Hotel:"),o(),a(4),o()()),n&2){let e=g().$implicit;s(4),h(" ",e.hotel.name,"")}}function pa(n,t){if(n&1&&(r(0,"div")(1,"p")(2,"strong"),a(3,"Flight Price Per Person:"),o(),a(4),o()()),n&2){let e=g(3);s(4),h(" \u20B9",e.itinerary.travelPackage.includedFlights[0]==null?null:e.itinerary.travelPackage.includedFlights[0].price,"")}}function ua(n,t){n&1&&(r(0,"p",19),a(1,"You have to arrange your own transportation to the location."),o())}function ga(n,t){if(n&1&&(r(0,"div"),b(1,pa,5,1,"div",18)(2,ua,2,0,"ng-template",null,0,ce),o()),n&2){let e=re(3),i=g(2);s(),m("ngIf",i.itinerary==null||i.itinerary.travelPackage==null||i.itinerary.travelPackage.includedFlights==null?null:i.itinerary.travelPackage.includedFlights.length)("ngIfElse",e)}}function fa(n,t){if(n&1){let e=w();r(0,"li"),a(1),r(2,"button",20),p("click",function(){let l=_(e).$implicit,d=g().$implicit,f=g();return C(f.removeActivity(l.activityId,d.day))}),a(3,"Remove"),o()()}if(n&2){let e=t.$implicit;s(),Se(" ",e.name," - \u20B9",e.price," ")}}function ha(n,t){if(n&1){let e=w();r(0,"div",15)(1,"div",5)(2,"h4",6),a(3),o(),b(4,ma,5,1,"div",16)(5,ga,4,2,"div",16),r(6,"div")(7,"h5",8),a(8,"Activities"),o(),r(9,"ul"),b(10,fa,4,2,"li",9),o()(),r(11,"button",17),p("click",function(){let l=_(e).$implicit,d=g();return C(d.openActivitySelector(l.day))}),a(12,"Add Activity"),o()()()}if(n&2){let e=t.$implicit;s(3),h("Day ",e.day,""),s(),m("ngIf",e.hotel),s(),m("ngIf",e.day===1),s(5),m("ngForOf",e.activities)}}var Mn=class n{constructor(t,e,i){this.route=t;this.http=e;this.authService=i}packageId=0;itinerary=null;days=[];selectedDay;totalPrice=0;customizedActivities=[];activitySelector;ngOnInit(){this.route.params.subscribe(t=>{this.packageId=+t.packageId,this.loadItinerary()})}loadItinerary(){let t=this.authService.getCurrentUserId();if(!t){console.error("User is not logged in or token is invalid.");return}let e={userId:t,packageId:this.packageId};this.http.post("http://localhost:9070/itineraries",e).subscribe(i=>{this.itinerary=i,this.totalPrice=i.totalPrice,this.generateDays(),this.updateCustomizedActivities()},i=>{console.error("Error loading itinerary:",i)})}generateDays(){let t=this.itinerary?.travelPackage?.noOfDays||0,e=this.itinerary?.travelPackage?.activities||[];this.days=Array.from({length:t},(i,l)=>({day:l+1,hotel:l===0&&this.itinerary?.travelPackage?.includedHotels[0]||null,activities:[]})),e.forEach((i,l)=>{let d=l%t;this.days[d].activities.push(i)})}openActivitySelector(t){this.selectedDay=t,this.activitySelector.open()}addActivity(t){if(this.selectedDay===void 0)return;let e=this.days.find(i=>i.day===this.selectedDay);e&&e.activities.push(t),this.http.post(`http://localhost:9070/itineraries/${this.itinerary.itinerary_id}/addActivity?activityId=${t.activityId}`,{}).subscribe(i=>{this.itinerary=i,this.totalPrice=i.totalPrice,this.updateCustomizedActivities(),console.log(`Activity added to Day ${this.selectedDay}:`,t)},i=>{console.error("Error adding activity:",i)})}removeActivity(t,e){let i=this.days.find(l=>l.day===e);i&&(i.activities=i.activities.filter(l=>l.activityId!==t)),this.http.delete(`http://localhost:9070/itineraries/${this.itinerary.itinerary_id}/removeActivity?activityId=${t}`).subscribe(l=>{this.itinerary=l,this.totalPrice=l.totalPrice,this.updateCustomizedActivities(),console.log(`Activity removed from Day ${e}:`,t)},l=>{console.error("Error removing activity:",l)})}updateCustomizedActivities(){this.customizedActivities=this.days.flatMap(t=>t.activities)}proceedToPayment(){console.log("Proceeding to payment...");let t=this.itinerary?.itinerary_id;if(console.log(t),!t){console.error("Itinerary ID is missing.");return}let e=this.authService.getCurrentUserId(),i="abisheakjagadish01@gmail.com";if(!e){console.error("User ID is missing or user is not logged in.");return}if(console.log(i),!i){console.error("User email is missing or token is invalid.");return}let l=new Date().toISOString().split("T")[0],d=this.itinerary?.quantity||1,f=`http://localhost:9070/api/payments/package?userId=${e}&email=${i}&itineraryId=${t}&bookingDate=${l}&quantity=${d}`;console.log("Constructed URL:",f),this.http.post(f,{}).subscribe(F=>{console.log("Stripe payment session created:",F);let q=F.sessionUrl;q?window.location.href=q:console.error("Session URL is missing in the response.")},F=>{console.error("Error creating payment session:",F)})}static \u0275fac=function(e){return new(e||n)(u(Fe),u(H),u(Q))};static \u0275cmp=x({type:n,selectors:[["app-itinerary"]],viewQuery:function(e,i){if(e&1&&ci(At,5),e&2){let l;mi(l=pi())&&(i.activitySelector=l.first)}},decls:22,vars:5,consts:[["noFlight",""],[1,"container","mt-5"],[1,"row"],[1,"col-md-3"],[1,"card","shadow-lg"],[1,"card-body"],[1,"card-title","text-primary"],[1,"card-text"],[1,"text-secondary"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","w-100","mt-3",3,"click"],[1,"col-md-9"],[1,"text-center","text-primary"],["class","card shadow-lg my-4",4,"ngFor","ngForOf"],[3,"activityAdded","location"],[1,"card","shadow-lg","my-4"],[4,"ngIf"],[1,"btn","btn-success","w-100",3,"click"],[4,"ngIf","ngIfElse"],[1,"text-danger"],[1,"btn","btn-danger","btn-sm","ms-2",3,"click"]],template:function(e,i){e&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),a(6,"Payment Details"),o(),r(7,"p",7)(8,"strong"),a(9,"Total Price:"),o(),a(10),o(),r(11,"h6",8),a(12,"Customization Details"),o(),r(13,"ul"),b(14,ca,2,2,"li",9),o(),r(15,"button",10),p("click",function(){return i.proceedToPayment()}),a(16,"Proceed to Payment"),o()()()(),r(17,"div",11)(18,"h2",12),a(19),o(),b(20,ha,13,4,"div",13),r(21,"app-activity-selector",14),p("activityAdded",function(d){return i.addActivity(d)}),o()()()()),e&2&&(s(10),h(" \u20B9",i.totalPrice," "),s(4),m("ngForOf",i.customizedActivities),s(5),h("Itinerary - ",i.itinerary==null||i.itinerary.travelPackage==null?null:i.itinerary.travelPackage.name,""),s(),m("ngForOf",i.days),s(),m("location",i.itinerary==null||i.itinerary.travelPackage==null?null:i.itinerary.travelPackage.location))},dependencies:[y,$,R,At],styles:[".container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#333}.card[_ngcontent-%COMP%]{border-radius:10px;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0003}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.card-text[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d}button[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.payment-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:none}.payment-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#007bff}.payment-card[_ngcontent-%COMP%]   .customization-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.payment-card[_ngcontent-%COMP%]   .customization-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem;color:#555;margin-bottom:5px}.payment-card[_ngcontent-%COMP%]   .proceed-btn[_ngcontent-%COMP%]{background-color:#007bff;border:none;font-size:1rem;font-weight:700;transition:background-color .3s ease}.payment-card[_ngcontent-%COMP%]   .proceed-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;color:#fff}.itinerary-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}.itinerary-card[_ngcontent-%COMP%]{background:#fff;border:none}.itinerary-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#007bff}.itinerary-card[_ngcontent-%COMP%]   .activity-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.itinerary-card[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]{font-size:.9rem;color:#555;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}.itinerary-card[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background-color:#dc3545;border:none;font-size:.8rem;font-weight:700;transition:background-color .3s ease}.itinerary-card[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background-color:#a71d2a;color:#fff}.itinerary-card[_ngcontent-%COMP%]   .add-activity-btn[_ngcontent-%COMP%]{background-color:#28a745;border:none;font-size:1rem;font-weight:700;transition:background-color .3s ease}.itinerary-card[_ngcontent-%COMP%]   .add-activity-btn[_ngcontent-%COMP%]:hover{background-color:#1e7e34;color:#fff}.text-danger[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#dc3545}"]})};var Sn=class n{constructor(t){this.router=t}navigateTo(t){this.router.navigate([`/travel-agent-dashboard/${t}`])}static \u0275fac=function(e){return new(e||n)(u(W))};static \u0275cmp=x({type:n,selectors:[["app-travel-agent-dashboard"]],decls:46,vars:0,consts:[[1,"travel-agent-dashboard"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"container","mt-5"],[1,"welcome-message","text-center","mb-5"],[1,"lead"],[1,"row","justify-content-center"],[1,"col-md-3"],[1,"button",3,"click"],["viewBox","0 0 24 24","fill","currentColor",1,"icon"],["fill-rule","evenodd","d","M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm4.28 10.28a.75.75 0 000-1.06l-3-3a.75.75 0 10-1.06 1.06l1.72 1.72H8.25a.75.75 0 000 1.5h5.69l-1.72 1.72a.75.75 0 101.06 1.06l3-3z","clip-rule","evenodd"],[1,"mt-4"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),a(4,"Travel Agent Dashboard"),o(),r(5,"button",4),c(6,"span",5),o()()(),r(7,"div",6)(8,"div",7)(9,"h1"),a(10,"Welcome to Our Travel Agent Dashboard"),o(),r(11,"p",8),a(12," Thank you for being a part of our platform. Please provide your services to help customers plan their dream vacations. Manage packages, activities, and flights with ease! "),o()(),r(13,"div",9)(14,"div",10)(15,"button",11),p("click",function(){return i.navigateTo("packages")}),a(16," Packages "),qe(),r(17,"svg",12),c(18,"path",13),o()()(),$e(),r(19,"div",10)(20,"button",11),p("click",function(){return i.navigateTo("activities")}),a(21," Activities "),qe(),r(22,"svg",12),c(23,"path",13),o()()(),$e(),r(24,"div",10)(25,"button",11),p("click",function(){return i.navigateTo("flightsComponent")}),a(26," Flights "),qe(),r(27,"svg",12),c(28,"path",13),o()()(),$e(),r(29,"div",10)(30,"button",11),p("click",function(){return i.navigateTo("app-add-hotels-to-package")}),a(31," Add Hotels to Package "),qe(),r(32,"svg",12),c(33,"path",13),o()()(),$e(),r(34,"div",10)(35,"button",11),p("click",function(){return i.navigateTo("app-add-flight-to-package")}),a(36," Add Flight to Package "),qe(),r(37,"svg",12),c(38,"path",13),o()()(),$e(),r(39,"div",10)(40,"button",11),p("click",function(){return i.navigateTo("app-add-activity-to-package")}),a(41," Add Activity to Package "),qe(),r(42,"svg",12),c(43,"path",13),o()()()(),$e(),r(44,"div",14),c(45,"router-outlet"),o()()())},dependencies:[Z,Oe,y],styles:['.button[_ngcontent-%COMP%]{position:relative;transition:all .3s ease-in-out;box-shadow:0 10px 20px #0003;padding:10px 20px;background-color:#007bff;border-radius:9999px;display:inline-block;color:#fff;font-weight:700;border:3px solid #ffffff4d;outline:none;overflow:hidden;font-size:15px;cursor:pointer;text-align:center;margin:5px}.icon[_ngcontent-%COMP%]{width:24px;height:24px;transition:all .3s ease-in-out}.button[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#fff9;background-color:#0056b3}.button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:translate(4px)}.button[_ngcontent-%COMP%]:hover:before{animation:_ngcontent-%COMP%_shine 1.5s ease-out infinite}.button[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100px;height:100%;background-image:linear-gradient(120deg,#fff0 30%,#fffc,#fff0 70%);top:0;left:-100px;opacity:.6}@keyframes _ngcontent-%COMP%_shine{0%{left:-100px}60%{left:100%}to{left:100%}}']})};var kn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-packages"]],decls:12,vars:0,consts:[[1,"container","text-center"],[1,"text-center","my-4"],[1,"button-container"],["routerLink","add",1,"button"],[1,"fas","fa-plus","icon"],["routerLink","manage",1,"button"],[1,"fas","fa-tasks","icon"],[1,"mt-4"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Packages"),o(),r(3,"div",2)(4,"button",3),c(5,"i",4),a(6," Add Package "),o(),r(7,"button",5),c(8,"i",6),a(9," Manage Packages "),o()(),r(10,"div",7),c(11,"router-outlet"),o()())},dependencies:[Z,Oe,ue],styles:['.packages-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{font-weight:700;font-size:2.5rem;color:#343a40;margin-bottom:30px;text-align:center}.packages-button[_ngcontent-%COMP%]{margin:15px;padding:12px 25px;font-size:1.1rem;font-weight:700;background-color:#007bff;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.packages-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-3px);box-shadow:0 6px 10px #00000026}.button[_ngcontent-%COMP%]{position:relative;transition:all .3s ease-in-out;box-shadow:0 10px 20px #0003;padding:10px 20px;background-color:#007bff;border-radius:9999px;display:inline-block;color:#fff;font-weight:700;border:3px solid #ffffff4d;outline:none;overflow:hidden;font-size:15px;cursor:pointer;text-align:center;margin:5px}.icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px;transition:all .3s ease-in-out;vertical-align:middle}.button[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#fff9;background-color:#0056b3}.button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:translate(4px)}.button[_ngcontent-%COMP%]:hover:before{animation:_ngcontent-%COMP%_shine 1.5s ease-out infinite}.button[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100px;height:100%;background-image:linear-gradient(120deg,#fff0 30%,#fffc,#fff0 70%);top:0;left:-100px;opacity:.6}@keyframes _ngcontent-%COMP%_shine{0%{left:-100px}60%{left:100%}to{left:100%}}.button-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.packages-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px}.packages-card[_ngcontent-%COMP%]{background:#fff;color:#343a40;border-radius:12px;box-shadow:0 4px 8px #0000001a;overflow:hidden;width:300px;transition:transform .3s ease,box-shadow .3s ease}.packages-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.packages-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.packages-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.packages-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px;color:#007bff}.packages-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d;margin-bottom:20px}.packages-card-content[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;font-weight:700;background-color:#007bff;border:none;border-radius:6px;color:#fff;cursor:pointer;transition:all .3s ease}.packages-card-content[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 8px #0003}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2rem}.packages-button[_ngcontent-%COMP%]{font-size:1rem;padding:10px 20px}.packages-card[_ngcontent-%COMP%]{width:100%}.packages-section[_ngcontent-%COMP%]{gap:15px}}']})};function va(n,t){n&1&&(r(0,"div",28),a(1," Package name is required. "),o())}function ba(n,t){n&1&&(r(0,"div",28),a(1," Price must be greater than 0. "),o())}function _a(n,t){n&1&&(r(0,"div",28),a(1," Number of days must be greater than 0. "),o())}function Ca(n,t){n&1&&(r(0,"div",28),a(1," Number of people must be greater than 0. "),o())}function xa(n,t){n&1&&(r(0,"div",28),a(1," Location is required. "),o())}function ya(n,t){n&1&&(r(0,"div",28),a(1," Start date is required. "),o())}function wa(n,t){n&1&&(r(0,"div",28),a(1," End date is required. "),o())}var Pn=class n{constructor(t,e){this.fb=t;this.http=e;this.packageForm=this.fb.group({name:["",v.required],price:[0,[v.required,v.min(1)]],noOfDays:[0,[v.required,v.min(1)]],noOfPeople:[0,[v.required,v.min(1)]],location:["",v.required],startDate:["",v.required],endDate:["",v.required]})}packageForm;addPackage(){this.packageForm.valid?this.http.post("http://localhost:9070/packages/createPackages",this.packageForm.value).subscribe({next:()=>{alert("Package added successfully!"),this.packageForm.reset()},error:t=>{console.error("Error adding package:",t),alert("Failed to add package.")}}):alert("Please fill out all required fields.")}static \u0275fac=function(e){return new(e||n)(u(G),u(H))};static \u0275cmp=x({type:n,selectors:[["app-package-add"]],decls:59,vars:9,consts:[[1,"container"],[1,"text-center","mt-5"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"card","mt-2","p-4","bg-light"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"controls"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Enter package name *","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","price"],["id","price","type","number","formControlName","price","placeholder","Enter price *","required","",1,"form-control"],["for","noOfDays"],["id","noOfDays","type","number","formControlName","noOfDays","placeholder","Enter number of days *","required","",1,"form-control"],["for","noOfPeople"],["id","noOfPeople","type","number","formControlName","noOfPeople","placeholder","Enter number of people *","required","",1,"form-control"],["for","location"],["id","location","type","text","formControlName","location","placeholder","Enter location *","required","",1,"form-control"],["for","startDate"],["id","startDate","type","date","formControlName","startDate","required","",1,"form-control"],["for","endDate"],["id","endDate","type","date","formControlName","endDate","required","",1,"form-control"],[1,"col-md-12","text-center"],["type","submit","value","Add Package",1,"btn","btn-success","btn-send","pt-2","btn-block",3,"disabled"],[1,"text-danger"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Add Package"),o()(),r(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),p("ngSubmit",function(){return i.addPackage()}),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),a(14,"Package Name *"),o(),c(15,"input",12),b(16,va,2,0,"div",13),o()(),r(17,"div",9)(18,"div",10)(19,"label",14),a(20,"Price *"),o(),c(21,"input",15),b(22,ba,2,0,"div",13),o()()(),r(23,"div",8)(24,"div",9)(25,"div",10)(26,"label",16),a(27,"Number of Days *"),o(),c(28,"input",17),b(29,_a,2,0,"div",13),o()(),r(30,"div",9)(31,"div",10)(32,"label",18),a(33,"Number of People *"),o(),c(34,"input",19),b(35,Ca,2,0,"div",13),o()()(),r(36,"div",8)(37,"div",9)(38,"div",10)(39,"label",20),a(40,"Location *"),o(),c(41,"input",21),b(42,xa,2,0,"div",13),o()(),r(43,"div",9)(44,"div",10)(45,"label",22),a(46,"Start Date *"),o(),c(47,"input",23),b(48,ya,2,0,"div",13),o()()(),r(49,"div",8)(50,"div",9)(51,"div",10)(52,"label",24),a(53,"End Date *"),o(),c(54,"input",25),b(55,wa,2,0,"div",13),o()()(),r(56,"div",8)(57,"div",26),c(58,"input",27),o()()()()()()()()()),e&2){let l,d,f,F,q,_e,Ae;s(8),m("formGroup",i.packageForm),s(8),m("ngIf",((l=i.packageForm.get("name"))==null?null:l.invalid)&&((l=i.packageForm.get("name"))==null?null:l.touched)),s(6),m("ngIf",((d=i.packageForm.get("price"))==null?null:d.invalid)&&((d=i.packageForm.get("price"))==null?null:d.touched)),s(7),m("ngIf",((f=i.packageForm.get("noOfDays"))==null?null:f.invalid)&&((f=i.packageForm.get("noOfDays"))==null?null:f.touched)),s(6),m("ngIf",((F=i.packageForm.get("noOfPeople"))==null?null:F.invalid)&&((F=i.packageForm.get("noOfPeople"))==null?null:F.touched)),s(7),m("ngIf",((q=i.packageForm.get("location"))==null?null:q.invalid)&&((q=i.packageForm.get("location"))==null?null:q.touched)),s(6),m("ngIf",((_e=i.packageForm.get("startDate"))==null?null:_e.invalid)&&((_e=i.packageForm.get("startDate"))==null?null:_e.touched)),s(7),m("ngIf",((Ae=i.packageForm.get("endDate"))==null?null:Ae.invalid)&&((Ae=i.packageForm.get("endDate"))==null?null:Ae.touched)),s(3),m("disabled",i.packageForm.invalid)}},dependencies:[z,E,M,J,k,P,X,j,L],styles:[".add-package-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}.add-package-card[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:600px}.add-package-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#343a40;margin-bottom:20px;text-align:center}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:0 0 150px;font-weight:700;margin-right:10px;color:#343a40}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;font-size:1rem;border:1px solid #ced4da;border-radius:5px;box-sizing:border-box;transition:border-color .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:1.1rem;font-weight:700;background-color:#007bff;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.btn-success[_ngcontent-%COMP%]{background-color:#007bff}button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-3px);box-shadow:0 6px 10px #00000026}.text-danger[_ngcontent-%COMP%]{font-size:.9rem;color:#dc3545;margin-top:5px}@media (max-width: 768px){.add-package-card[_ngcontent-%COMP%]{padding:20px}.add-package-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.form-group[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}button[_ngcontent-%COMP%]{font-size:1rem}}"]})};function Ma(n,t){if(n&1){let e=w();r(0,"tr")(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),a(6),o(),r(7,"td"),a(8),Y(9,"date"),o(),r(10,"td"),a(11),Y(12,"date"),o(),r(13,"td")(14,"button",4),p("click",function(){let l=_(e).$implicit,d=g();return C(d.editPackage(l))}),c(15,"i",5),a(16," Edit "),o(),r(17,"button",6),p("click",function(){let l=_(e).$implicit,d=g();return C(d.deletePackage(l))}),c(18,"i",7),a(19," Delete "),o()()()}if(n&2){let e=t.$implicit;s(2),O(e.name),s(2),h("\u20B9",e.price,""),s(2),O(e.location),s(2),O(te(9,5,e.startDate,"yyyy-MM-dd")),s(3),O(te(12,8,e.endDate,"yyyy-MM-dd"))}}function Sa(n,t){if(n&1){let e=w();r(0,"div",8)(1,"h4",9),a(2,"Edit Package"),o(),r(3,"form",10),p("ngSubmit",function(){_(e);let l=g();return C(l.updatePackage())}),r(4,"div",11)(5,"label",12),a(6,"Name:"),o(),c(7,"input",13),o(),r(8,"div",11)(9,"label",14),a(10,"Price:"),o(),c(11,"input",15),o(),r(12,"div",11)(13,"label",16),a(14,"Number of Days:"),o(),c(15,"input",17),o(),r(16,"div",11)(17,"label",18),a(18,"Number of People:"),o(),c(19,"input",19),o(),r(20,"div",11)(21,"label",20),a(22,"Location:"),o(),c(23,"input",21),o(),r(24,"div",11)(25,"label",22),a(26,"Start Date:"),o(),c(27,"input",23),o(),r(28,"div",11)(29,"label",24),a(30,"End Date:"),o(),c(31,"input",25),o(),r(32,"div",11)(33,"label",26),a(34,"Packages Created:"),o(),c(35,"input",27),o(),r(36,"div",11)(37,"label",28),a(38,"Total Price:"),o(),c(39,"input",29),o(),r(40,"div",30)(41,"button",31),a(42,"Update"),o(),r(43,"button",32),p("click",function(){_(e);let l=g();return C(l.cancelEdit())}),a(44,"Cancel"),o()()()()}if(n&2){let e=g();s(3),m("formGroup",e.editForm)}}var En=class n{constructor(t,e){this.http=t;this.fb=e}packages=[];editForm=null;editingPackageId=null;deletingPackageId=null;ngOnInit(){this.fetchPackages()}fetchPackages(){this.http.get("http://localhost:9070/packages").subscribe({next:t=>{this.packages=t},error:t=>{console.error("Error fetching packages:",t)}})}editPackage(t){this.editingPackageId=t.packageId,this.editForm=this.fb.group({name:[t.name,v.required],price:[t.price,[v.required,v.min(1)]],noOfDays:[t.noOfDays,v.required],noOfPeople:[t.noOfPeople,v.required],location:[t.location,v.required],startDate:[t.startDate,v.required],endDate:[t.endDate,v.required],packagesCreated:[t.packagesCreated,v.required],packagetotalPrice:[t.packagetotalPrice,v.required]})}updatePackage(){this.editForm?.valid&&this.editingPackageId!==null&&this.http.put(`http://localhost:9070/packages/${this.editingPackageId}`,this.editForm.value).subscribe({next:()=>{alert("Package updated successfully!"),this.editingPackageId=null,this.editForm=null,this.fetchPackages()},error:t=>{console.error("Error updating package:",t),alert("Failed to update package.")}})}cancelEdit(){this.editingPackageId=null,this.editForm=null}deletePackage(t){if(console.log("Package data received for deletion:",t),!t||!t.packageId){console.error("Invalid package data:",t),alert("Failed to delete package. Invalid package data.");return}console.log("Deleting package with ID:",t.packageId),this.deletingPackageId=t.packageId,console.log(this.deletingPackageId),this.http.delete(`http://localhost:9070/packages/${this.deletingPackageId}`).subscribe({next:()=>{alert("Package deleted successfully!"),this.fetchPackages()},error:e=>{console.error("Error deleting package:",e),alert("Failed to delete package.")}})}static \u0275fac=function(e){return new(e||n)(u(H),u(G))};static \u0275cmp=x({type:n,selectors:[["app-package-manage"]],decls:18,vars:2,consts:[[1,"table","table-bordered","table-hover","table-striped","text-center"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","edit-form p-4 border rounded shadow bg-light",4,"ngIf"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"edit-form","p-4","border","rounded","shadow","bg-light"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","formControlName","name","type","text",1,"form-control"],["for","price",1,"form-label"],["id","price","formControlName","price","type","number",1,"form-control"],["for","noOfDays",1,"form-label"],["id","noOfDays","formControlName","noOfDays","type","number",1,"form-control"],["for","noOfPeople",1,"form-label"],["id","noOfPeople","formControlName","noOfPeople","type","number",1,"form-control"],["for","location",1,"form-label"],["id","location","formControlName","location","type","text",1,"form-control"],["for","startDate",1,"form-label"],["id","startDate","formControlName","startDate","type","date",1,"form-control"],["for","endDate",1,"form-label"],["id","endDate","formControlName","endDate","type","date",1,"form-control"],["for","packagesCreated",1,"form-label"],["id","packagesCreated","formControlName","packagesCreated","type","number",1,"form-control"],["for","packagetotalPrice",1,"form-label"],["id","packagetotalPrice","formControlName","packagetotalPrice","type","number",1,"form-control"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(r(0,"table",0)(1,"thead",1)(2,"tr")(3,"th"),a(4,"Name"),o(),r(5,"th"),a(6,"Price"),o(),r(7,"th"),a(8,"Location"),o(),r(9,"th"),a(10,"Start Date"),o(),r(11,"th"),a(12,"End Date"),o(),r(13,"th"),a(14,"Actions"),o()()(),r(15,"tbody"),b(16,Ma,20,11,"tr",2),o()(),b(17,Sa,45,1,"div",3)),e&2&&(s(16),m("ngForOf",i.packages),s(),m("ngIf",i.editForm))},dependencies:[y,$,R,Ee,z,E,M,J,k,P,j,L],styles:[".manage-packages-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{font-weight:700;font-size:2.5rem;color:#343a40;margin-bottom:30px;text-align:center}.manage-packages-table[_ngcontent-%COMP%]{width:100%;max-width:1200px;border-collapse:collapse;background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.manage-packages-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .manage-packages-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;text-align:left;font-size:1rem;color:#343a40;border-bottom:1px solid #dee2e6}.manage-packages-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700;text-transform:uppercase}.manage-packages-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.table[_ngcontent-%COMP%]{margin-top:20px}.manage-packages-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:.9rem;font-weight:700;background-color:#007bff;border:none;border-radius:5px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.manage-packages-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 6px #00000026}.manage-packages-button.delete[_ngcontent-%COMP%]{background-color:#dc3545}.manage-packages-button.delete[_ngcontent-%COMP%]:hover{background-color:#a71d2a}button[_ngcontent-%COMP%]{min-width:80px}.edit-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2rem}.manage-packages-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .manage-packages-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9rem;padding:10px}.manage-packages-button[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 12px}}"]})};var Fn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-activities"]],decls:12,vars:0,consts:[[1,"container","text-center"],[1,"text-center","my-4"],[1,"button-container"],["routerLink","add",1,"button"],[1,"fas","fa-plus","icon"],["routerLink","manage",1,"button"],[1,"fas","fa-tasks","icon"],[1,"mt-4"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Activities"),o(),r(3,"div",2)(4,"button",3),c(5,"i",4),a(6," Add Activity "),o(),r(7,"button",5),c(8,"i",6),a(9," Manage Activities "),o()(),r(10,"div",7),c(11,"router-outlet"),o()())},dependencies:[Z,Oe,ue,y],styles:['.activities-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{font-weight:700;font-size:2.5rem;color:#343a40;margin-bottom:30px;text-align:center}.activities-button[_ngcontent-%COMP%]{margin:15px;padding:12px 25px;font-size:1.1rem;font-weight:700;background-color:#007bff;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.button[_ngcontent-%COMP%]{position:relative;transition:all .3s ease-in-out;box-shadow:0 10px 20px #0003;padding:10px 20px;background-color:#007bff;border-radius:9999px;display:inline-block;color:#fff;font-weight:700;border:3px solid #ffffff4d;outline:none;overflow:hidden;font-size:15px;cursor:pointer;text-align:center;margin:5px}.icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px;transition:all .3s ease-in-out;vertical-align:middle}.button[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#fff9;background-color:#0056b3}.button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:translate(4px)}.button[_ngcontent-%COMP%]:hover:before{animation:_ngcontent-%COMP%_shine 1.5s ease-out infinite}.button[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100px;height:100%;background-image:linear-gradient(120deg,#fff0 30%,#fffc,#fff0 70%);top:0;left:-100px;opacity:.6}@keyframes _ngcontent-%COMP%_shine{0%{left:-100px}60%{left:100%}to{left:100%}}.button-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.activities-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-3px);box-shadow:0 6px 10px #00000026}.activities-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px}.activities-card[_ngcontent-%COMP%]{background:#fff;color:#343a40;border-radius:12px;box-shadow:0 4px 8px #0000001a;overflow:hidden;width:300px;transition:transform .3s ease,box-shadow .3s ease}.activities-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.activities-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.activities-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.activities-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px;color:#007bff}.activities-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d;margin-bottom:20px}.activities-card-content[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;font-weight:700;background-color:#007bff;border:none;border-radius:6px;color:#fff;cursor:pointer;transition:all .3s ease}.activities-card-content[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 8px #0003}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2rem}.activities-button[_ngcontent-%COMP%]{font-size:1rem;padding:10px 20px}.activities-card[_ngcontent-%COMP%]{width:100%}.activities-section[_ngcontent-%COMP%]{gap:15px}}']})};function ka(n,t){n&1&&(r(0,"div",20),a(1," Activity name is required. "),o())}function Pa(n,t){n&1&&(r(0,"div",20),a(1," Description is required. "),o())}function Ea(n,t){n&1&&(r(0,"div",20),a(1," Price must be greater than 0. "),o())}var On=class n{constructor(t,e){this.fb=t;this.http=e;this.activityForm=this.fb.group({name:["",v.required],description:["",v.required],price:[0,[v.required,v.min(1)]]})}activityForm;addActivity(){this.activityForm.valid?this.http.post("http://localhost:9070/activities",this.activityForm.value).subscribe({next:()=>{alert("Activity added successfully!"),this.activityForm.reset()},error:t=>{console.error("Error adding activity:",t),alert("Failed to add activity.")}}):alert("Please fill out all required fields.")}static \u0275fac=function(e){return new(e||n)(u(G),u(H))};static \u0275cmp=x({type:n,selectors:[["app-activity-add"]],decls:35,vars:5,consts:[[1,"container"],[1,"text-center","mt-5"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"card","mt-2","p-4","bg-light"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"controls"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Enter activity name *","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","description"],["id","description","formControlName","description","placeholder","Enter activity description *","rows","4","required","",1,"form-control"],["for","price"],["type","number","id","price","formControlName","price","placeholder","Enter price *","required","",1,"form-control"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-primary","btn-send","pt-2","btn-block",3,"disabled"],[1,"text-danger"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Add Activity"),o()(),r(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),p("ngSubmit",function(){return i.addActivity()}),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),a(14,"Activity Name *"),o(),c(15,"input",12),b(16,ka,2,0,"div",13),o()()(),r(17,"div",8)(18,"div",9)(19,"div",10)(20,"label",14),a(21,"Description *"),o(),c(22,"textarea",15),b(23,Pa,2,0,"div",13),o()()(),r(24,"div",8)(25,"div",9)(26,"div",10)(27,"label",16),a(28,"Price *"),o(),c(29,"input",17),b(30,Ea,2,0,"div",13),o()()(),r(31,"div",8)(32,"div",18)(33,"button",19),a(34," Add Activity "),o()()()()()()()()()()),e&2){let l,d,f;s(8),m("formGroup",i.activityForm),s(8),m("ngIf",((l=i.activityForm.get("name"))==null?null:l.invalid)&&((l=i.activityForm.get("name"))==null?null:l.touched)),s(7),m("ngIf",((d=i.activityForm.get("description"))==null?null:d.invalid)&&((d=i.activityForm.get("description"))==null?null:d.touched)),s(7),m("ngIf",((f=i.activityForm.get("price"))==null?null:f.invalid)&&((f=i.activityForm.get("price"))==null?null:f.touched)),s(3),m("disabled",i.activityForm.invalid)}},dependencies:[z,E,M,J,k,P,X,j,L,y,R],styles:[".add-activity-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}.container[_ngcontent-%COMP%]{margin-top:50px}.add-activity-form[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:500px}.card[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:600px}.add-activity-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#343a40;margin-bottom:20px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:8px;color:#343a40}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ced4da;border-radius:5px;box-sizing:border-box;transition:border-color .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.add-activity-button[_ngcontent-%COMP%]{display:block;width:100%;padding:12px;font-size:1.1rem;font-weight:700;background-color:#007bff;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:1.1rem;font-weight:700;background-color:#007bff;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.add-activity-button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-3px);box-shadow:0 6px 10px #00000026}.text-danger[_ngcontent-%COMP%]{font-size:.9rem;color:#dc3545;margin-top:5px}@media (max-width: 768px){.add-activity-form[_ngcontent-%COMP%]{padding:20px}.add-activity-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.add-activity-button[_ngcontent-%COMP%]{font-size:1rem}.card[_ngcontent-%COMP%]{padding:20px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}button[_ngcontent-%COMP%]{font-size:1rem}}"]})};function Fa(n,t){if(n&1){let e=w();r(0,"tr")(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),a(6),o(),r(7,"td")(8,"button",6),p("click",function(){let l=_(e).$implicit,d=g();return C(d.editActivity(l))}),c(9,"i",7),a(10," Edit "),o(),r(11,"button",8),p("click",function(){let l=_(e).$implicit,d=g();return C(d.deleteActivity(l))}),c(12,"i",9),a(13," Delete "),o()()()}if(n&2){let e=t.$implicit;s(2),O(e.name),s(2),O(e.description),s(2),h("\u20B9",e.price,"")}}function Oa(n,t){if(n&1){let e=w();r(0,"div",10)(1,"h4",11),a(2,"Edit Activity"),o(),r(3,"form",12),p("ngSubmit",function(){_(e);let l=g();return C(l.saveActivity())}),r(4,"div",13)(5,"label",14),a(6,"Name:"),o(),c(7,"input",15),o(),r(8,"div",13)(9,"label",16),a(10,"Description:"),o(),c(11,"input",17),o(),r(12,"div",13)(13,"label",18),a(14,"Price:"),o(),c(15,"input",19),o(),r(16,"div",20)(17,"button",21),a(18,"Update"),o(),r(19,"button",22),p("click",function(){_(e);let l=g();return C(l.cancelEdit())}),a(20,"Cancel"),o()()()()}if(n&2){let e=g();s(3),m("formGroup",e.editForm)}}var An=class n{constructor(t,e){this.http=t;this.fb=e}activities=[];editForm;editingActivityId=null;ngOnInit(){this.fetchActivities()}fetchActivities(){this.http.get("http://localhost:9070/activities").subscribe({next:t=>this.activities=t,error:t=>{console.error("Error fetching activities:",t),alert("Failed to fetch activities.")}})}editActivity(t){this.editingActivityId=t.activityId,this.editForm=this.fb.group({name:[t.name,v.required],description:[t.description,v.required],price:[t.price,[v.required,v.min(1)]]})}saveActivity(){this.editForm.valid&&this.editingActivityId!==null&&this.http.put(`http://localhost:9070/activities/${this.editingActivityId}`,this.editForm.value).subscribe({next:t=>{alert("Activity updated successfully!"),this.editingActivityId=null,this.fetchActivities()},error:t=>{console.error("Error updating activity:",t),alert("Failed to update activity.")}})}cancelEdit(){this.editingActivityId=null,this.editForm&&this.editForm.reset()}deleteActivity(t){if(!t||!t.activityId){alert("Failed to delete activity. Invalid activity data.");return}this.http.delete(`http://localhost:9070/activities/${t.activityId}`).subscribe({next:()=>{alert("Activity deleted successfully!"),this.fetchActivities()},error:e=>{console.error("Error deleting activity:",e),alert("Failed to delete activity.")}})}static \u0275fac=function(e){return new(e||n)(u(H),u(G))};static \u0275cmp=x({type:n,selectors:[["app-activity-manage"]],decls:17,vars:2,consts:[[1,"container"],[1,"text-center","my-4"],[1,"table","table-bordered","table-hover","table-striped","text-center"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","edit-form p-4 border rounded shadow bg-light mt-4",4,"ngIf"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"edit-form","p-4","border","rounded","shadow","bg-light","mt-4"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","formControlName","name","type","text",1,"form-control"],["for","description",1,"form-label"],["id","description","formControlName","description","type","text",1,"form-control"],["for","price",1,"form-label"],["id","price","formControlName","price","type","number",1,"form-control"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Manage Activities"),o(),r(3,"table",2)(4,"thead",3)(5,"tr")(6,"th"),a(7,"Name"),o(),r(8,"th"),a(9,"Description"),o(),r(10,"th"),a(11,"Price"),o(),r(12,"th"),a(13,"Actions"),o()()(),r(14,"tbody"),b(15,Fa,14,3,"tr",4),o()(),b(16,Oa,21,1,"div",5),o()),e&2&&(s(15),m("ngForOf",i.activities),s(),m("ngIf",i.editingActivityId!==null))},dependencies:[z,E,M,J,k,P,j,L,y,$,R],styles:[".manage-activities-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{font-weight:700;font-size:2.5rem;color:#343a40;margin-bottom:30px;text-align:center}.manage-activities-table[_ngcontent-%COMP%]{width:100%;max-width:1200px;border-collapse:collapse;background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.manage-activities-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .manage-activities-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;text-align:left;font-size:1rem;color:#343a40;border-bottom:1px solid #dee2e6}.manage-activities-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700;text-transform:uppercase}.manage-activities-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.manage-activities-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:.9rem;font-weight:700;background-color:#007bff;border:none;border-radius:5px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.manage-activities-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 6px #00000026}.manage-activities-button.delete[_ngcontent-%COMP%]{background-color:#dc3545}.manage-activities-button.delete[_ngcontent-%COMP%]:hover{background-color:#a71d2a}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2rem}.manage-activities-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .manage-activities-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9rem;padding:10px}.manage-activities-button[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 12px}}"]})};var In=class n{constructor(t,e){this.fb=t;this.http=e;this.flightForm=this.fb.group({departureCity:["",v.required],destinationCity:["",v.required],departureTime:["",v.required],arrivalTime:["",v.required],totalSeats:[0,[v.required,v.min(1)]],price:[0,[v.required,v.min(1)]],departureDateTime:["",v.required]})}flightForm;addFlight(){this.flightForm.valid?this.http.post("http://localhost:9070/flights",this.flightForm.value).subscribe({next:()=>{alert("Flight added successfully!"),this.flightForm.reset()},error:t=>{console.error("Error adding flight:",t),alert("Failed to add flight.")}}):alert("Please fill out all required fields.")}static \u0275fac=function(e){return new(e||n)(u(G),u(H))};static \u0275cmp=x({type:n,selectors:[["app-flight-add"]],decls:53,vars:2,consts:[[1,"container","add-flight-container"],[1,"text-center","mt-5"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"card","mt-2","p-4","bg-light"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"controls"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","departureCity"],["type","text","id","departureCity","formControlName","departureCity","placeholder","Enter departure city *","required","",1,"form-control"],["for","destinationCity"],["type","text","id","destinationCity","formControlName","destinationCity","placeholder","Enter destination city *","required","",1,"form-control"],["for","departureTime"],["type","time","id","departureTime","formControlName","departureTime","required","",1,"form-control"],["for","arrivalTime"],["type","time","id","arrivalTime","formControlName","arrivalTime","required","",1,"form-control"],["for","totalSeats"],["type","number","id","totalSeats","formControlName","totalSeats","placeholder","Enter total seats *","required","",1,"form-control"],["for","price"],["type","number","id","price","formControlName","price","placeholder","Enter price *","required","",1,"form-control"],[1,"col-md-12"],["for","departureDateTime"],["type","datetime-local","id","departureDateTime","formControlName","departureDateTime","required","",1,"form-control"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-primary","btn-send","pt-2","btn-block",3,"disabled"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Add Flight"),o()(),r(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),p("ngSubmit",function(){return i.addFlight()}),r(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),a(14,"Departure City *"),o(),c(15,"input",12),o()(),r(16,"div",9)(17,"div",10)(18,"label",13),a(19,"Destination City *"),o(),c(20,"input",14),o()()(),r(21,"div",8)(22,"div",9)(23,"div",10)(24,"label",15),a(25,"Departure Time *"),o(),c(26,"input",16),o()(),r(27,"div",9)(28,"div",10)(29,"label",17),a(30,"Arrival Time *"),o(),c(31,"input",18),o()()(),r(32,"div",8)(33,"div",9)(34,"div",10)(35,"label",19),a(36,"Total Seats *"),o(),c(37,"input",20),o()(),r(38,"div",9)(39,"div",10)(40,"label",21),a(41,"Price *"),o(),c(42,"input",22),o()()(),r(43,"div",8)(44,"div",23)(45,"div",10)(46,"label",24),a(47,"Departure Date & Time *"),o(),c(48,"input",25),o()()(),r(49,"div",8)(50,"div",26)(51,"button",27),a(52," Add Flight "),o()()()()()()()()()()),e&2&&(s(8),m("formGroup",i.flightForm),s(43),m("disabled",i.flightForm.invalid))},dependencies:[z,E,M,J,k,P,X,j,L],styles:[".add-flight-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}.add-flight-form[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:100%;max-width:500px}.add-flight-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#343a40;margin-bottom:20px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:8px;color:#343a40}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ced4da;border-radius:5px;box-sizing:border-box;transition:border-color .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.add-flight-button[_ngcontent-%COMP%]{display:block;width:100%;padding:12px;font-size:1.1rem;font-weight:700;background-color:#007bff;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.add-flight-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-3px);box-shadow:0 6px 10px #00000026}@media (max-width: 768px){.add-flight-form[_ngcontent-%COMP%]{padding:20px}.add-flight-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.add-flight-button[_ngcontent-%COMP%]{font-size:1rem}}"]})};function Aa(n,t){if(n&1){let e=w();r(0,"tr")(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),a(6),o(),r(7,"td"),a(8),o(),r(9,"td"),a(10),o(),r(11,"td")(12,"button",6),p("click",function(){let l=_(e).$implicit,d=g();return C(d.editFlight(l))}),c(13,"i",7),a(14," Edit "),o(),r(15,"button",8),p("click",function(){let l=_(e).$implicit,d=g();return C(d.deleteFlight(l.id))}),c(16,"i",9),a(17," Delete "),o()()()}if(n&2){let e=t.$implicit;s(2),O(e.departureCity),s(2),O(e.destinationCity),s(2),O(e.departureTime),s(2),O(e.arrivalTime),s(2),h("\u20B9",e.price,"")}}function Ia(n,t){if(n&1){let e=w();r(0,"div",10)(1,"h4",11),a(2,"Edit Flight"),o(),r(3,"form",12),p("ngSubmit",function(){_(e);let l=g();return C(l.updateFlight())}),r(4,"div",13)(5,"label",14),a(6,"Departure City:"),o(),c(7,"input",15),o(),r(8,"div",13)(9,"label",16),a(10,"Destination City:"),o(),c(11,"input",17),o(),r(12,"div",13)(13,"label",18),a(14,"Departure Time:"),o(),c(15,"input",19),o(),r(16,"div",13)(17,"label",20),a(18,"Arrival Time:"),o(),c(19,"input",21),o(),r(20,"div",13)(21,"label",22),a(22,"Price:"),o(),c(23,"input",23),o(),r(24,"div",24)(25,"button",25),a(26,"Update"),o(),r(27,"button",26),p("click",function(){_(e);let l=g();return C(l.cancelEdit())}),a(28,"Cancel"),o()()()()}if(n&2){let e=g();s(3),m("formGroup",e.editForm)}}var Dn=class n{constructor(t,e){this.http=t;this.fb=e;this.editForm=this.fb.group({departureCity:["",v.required],destinationCity:["",v.required],departureTime:["",v.required],arrivalTime:["",v.required],price:[0,[v.required,v.min(1)]]})}flights=[];editForm;editingFlightId=null;ngOnInit(){this.fetchFlights()}fetchFlights(){this.http.get("http://localhost:9070/flights").subscribe({next:t=>{this.flights=t},error:t=>{console.error("Error fetching flights:",t),alert("Failed to fetch flights.")}})}deleteFlight(t){this.http.delete(`http://localhost:9070/flights/${t}`).subscribe({next:()=>{alert("Flight deleted successfully!"),this.fetchFlights()},error:e=>{console.error("Error deleting flight:",e),alert("Failed to delete flight.")}})}editFlight(t){console.log("Editing flight:",t),this.editingFlightId=t.id,this.editForm.patchValue({departureCity:t.departureCity,destinationCity:t.destinationCity,departureTime:t.departureTime,arrivalTime:t.arrivalTime,price:t.price})}updateFlight(){this.editForm.valid&&this.editingFlightId!==null&&this.http.put(`http://localhost:9070/flights/${this.editingFlightId}`,this.editForm.value).subscribe({next:()=>{alert("Flight updated successfully!"),this.editingFlightId=null,this.fetchFlights()},error:t=>{console.error("Error updating flight:",t),alert("Failed to update flight.")}})}cancelEdit(){this.editingFlightId=null,this.editForm.reset()}static \u0275fac=function(e){return new(e||n)(u(H),u(G))};static \u0275cmp=x({type:n,selectors:[["app-manage-flights"]],decls:21,vars:2,consts:[[1,"container","text-center","manage-flights-container"],[1,"text-center","my-4"],[1,"table","table-bordered","table-hover","table-striped","text-center","flights-table"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","edit-form p-4 border rounded shadow bg-light mt-4",4,"ngIf"],[1,"btn","btn-primary","btn-sm","me-2","flights-button",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-sm","flights-button","delete",3,"click"],[1,"bi","bi-trash"],[1,"edit-form","p-4","border","rounded","shadow","bg-light","mt-4"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","departureCity",1,"form-label"],["id","departureCity","formControlName","departureCity","type","text",1,"form-control"],["for","destinationCity",1,"form-label"],["id","destinationCity","formControlName","destinationCity","type","text",1,"form-control"],["for","departureTime",1,"form-label"],["id","departureTime","formControlName","departureTime","type","text",1,"form-control"],["for","arrivalTime",1,"form-label"],["id","arrivalTime","formControlName","arrivalTime","type","text",1,"form-control"],["for","price",1,"form-label"],["id","price","formControlName","price","type","number",1,"form-control"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary","flights-button"],["type","button",1,"btn","btn-secondary","flights-button",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Manage Flights"),o(),r(3,"table",2)(4,"thead",3)(5,"tr")(6,"th"),a(7,"Departure City"),o(),r(8,"th"),a(9,"Destination City"),o(),r(10,"th"),a(11,"Departure Time"),o(),r(12,"th"),a(13,"Arrival Time"),o(),r(14,"th"),a(15,"Price"),o(),r(16,"th"),a(17,"Actions"),o()()(),r(18,"tbody"),b(19,Aa,18,5,"tr",4),o()(),b(20,Ia,29,1,"div",5),o()),e&2&&(s(19),m("ngForOf",i.flights),s(),m("ngIf",i.editingFlightId!==null))},dependencies:[y,$,R,z,E,M,J,k,P,j,L],styles:[".flights-table[_ngcontent-%COMP%]{width:100%;margin-top:20px;border-collapse:collapse;max-width:1200px;background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.flights-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .flights-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;text-align:left;font-size:1rem;color:#343a40;border-bottom:1px solid #dee2e6}.flights-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700;text-transform:uppercase}.flights-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f8f9fa}.flights-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}.flights-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.flights-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;padding:8px 12px;font-size:.9rem;border:none;border-radius:5px;cursor:pointer;transition:all .3s ease}.flights-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.flights-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.flights-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.flights-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.btn-danger[_ngcontent-%COMP%]:hover{background-color:#a71d2a}.manage-flights-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}h2[_ngcontent-%COMP%]{font-weight:700;font-size:2.5rem;color:#343a40;margin-bottom:30px;text-align:center}.flights-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:.9rem;font-weight:700;background-color:#007bff;border:none;border-radius:5px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.flights-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 6px #00000026}.flights-button.delete[_ngcontent-%COMP%]{background-color:#dc3545}.flights-button.delete[_ngcontent-%COMP%]:hover{background-color:#a71d2a}button[_ngcontent-%COMP%]{min-width:80px}.edit-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:20px}.edit-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#343a40;margin-bottom:20px;text-align:center}.edit-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#343a40}.edit-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:5px;padding:10px;font-size:1rem;width:100%}.edit-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.edit-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;font-size:.9rem;font-weight:700;border-radius:5px;cursor:pointer;transition:all .3s ease}.edit-form[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.edit-form[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.edit-form[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.edit-form[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}@media (max-width: 768px){h2[_ngcontent-%COMP%]{font-size:2rem}.flights-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .flights-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9rem;padding:10px}.flights-button[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 12px}.edit-form[_ngcontent-%COMP%]{padding:15px}.edit-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var Vn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-flights"]],decls:12,vars:0,consts:[[1,"container","text-center"],[1,"text-center","my-4"],[1,"button-container"],["routerLink","add",1,"button"],[1,"fas","fa-plus","icon"],["routerLink","manage",1,"button"],[1,"fas","fa-tasks","icon"],[1,"mt-4"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Flights"),o(),r(3,"div",2)(4,"button",3),c(5,"i",4),a(6," Add Flight "),o(),r(7,"button",5),c(8,"i",6),a(9," Manage Flights "),o()(),r(10,"div",7),c(11,"router-outlet"),o()())},dependencies:[Z,Oe,ue],styles:['.flights-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f8f9fa;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{font-weight:700;font-size:2.5rem;color:#343a40;margin-bottom:30px;text-align:center}.flights-button[_ngcontent-%COMP%]{margin:15px;padding:12px 25px;font-size:1.1rem;font-weight:700;background-color:#007bff;border:none;border-radius:8px;color:#fff;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.flights-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-3px);box-shadow:0 6px 10px #00000026}.button[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;padding:10px 20px;background-color:#007bff;border-radius:9999px;color:#fff;font-weight:700;border:3px solid #ffffff4d;outline:none;overflow:hidden;font-size:15px;cursor:pointer;text-align:center;margin:5px;transition:all .3s ease-in-out;box-shadow:0 10px 20px #0003;gap:10px}.icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px;transition:all .3s ease-in-out;vertical-align:middle}.button[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#fff9;background-color:#0056b3;box-shadow:0 12px 24px #0000004d}.button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:translate(4px)}.button[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100px;height:100%;background-image:linear-gradient(120deg,#fff0 30%,#fffc,#fff0 70%);top:0;left:-100px;opacity:.6;transition:all .3s ease-in-out}.button[_ngcontent-%COMP%]:hover:before{animation:_ngcontent-%COMP%_shine 1.5s ease-out infinite}@keyframes _ngcontent-%COMP%_shine{0%{left:-100px}60%{left:100%}to{left:100%}}.button-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.flights-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px}.flights-card[_ngcontent-%COMP%]{background:#fff;color:#343a40;border-radius:12px;box-shadow:0 4px 8px #0000001a;overflow:hidden;width:300px;transition:transform .3s ease,box-shadow .3s ease}.flights-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.flights-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.flights-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.flights-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px;color:#007bff}.flights-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d;margin-bottom:20px}.flights-card-content[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;font-weight:700;background-color:#007bff;border:none;border-radius:6px;color:#fff;cursor:pointer;transition:all .3s ease}.flights-card-content[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 8px #0003}.table[_ngcontent-%COMP%]{width:100%;margin-top:20px;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:center;border:1px solid #dee2e6}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f8f9fa}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#fff}.table-bordered[_ngcontent-%COMP%]{border:1px solid #dee2e6}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2rem}.flights-button[_ngcontent-%COMP%]{font-size:1rem;padding:10px 20px}.flights-card[_ngcontent-%COMP%]{width:100%}.flights-section[_ngcontent-%COMP%]{gap:15px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9rem}.button[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 16px}}']})};function Da(n,t){n&1&&(r(0,"div",3)(1,"div",5)(2,"span",6),a(3,"Loading..."),o()()())}function Va(n,t){if(n&1&&(r(0,"div",4),a(1),o()),n&2){let e=g();s(),h(" ",e.errorMessage," ")}}function Na(n,t){if(n&1&&(r(0,"a",34),a(1,"Pay Now"),o()),n&2){let e=g(3);m("href",e.bookingDetails.sessionUrl,et)}}function Ra(n,t){if(n&1){let e=w();r(0,"button",37),p("click",function(){_(e);let l=g(3);return C(l.confirmBooking())}),a(1,"Confirm & Pay"),o()}}function Ta(n,t){if(n&1){let e=w();r(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"h5",29),a(5,"Confirm Flight Booking"),o(),r(6,"button",30),p("click",function(){_(e);let l=g(2);return C(l.closePopup())}),o()(),r(7,"div",31)(8,"p")(9,"strong"),a(10,"Flight:"),o(),a(11),o(),r(12,"p")(13,"strong"),a(14,"From:"),o(),a(15),o(),r(16,"p")(17,"strong"),a(18,"To:"),o(),a(19),o(),r(20,"p")(21,"strong"),a(22,"Date:"),o(),a(23),Y(24,"date"),o(),r(25,"p")(26,"strong"),a(27,"Passengers:"),o(),a(28),o(),r(29,"p")(30,"strong"),a(31,"Total Price:"),o(),a(32),o()(),r(33,"div",32)(34,"button",33),p("click",function(){_(e);let l=g(2);return C(l.closePopup())}),a(35,"Cancel"),o(),b(36,Na,2,1,"a",34)(37,Ra,2,0,"button",35),o()()()(),c(38,"div",36)}if(n&2){let e=g(2);s(11),h(" ",e.flight.flightNumber,""),s(4),h(" ",e.flight.departureCity,""),s(4),h(" ",e.flight.destinationCity,""),s(4),h(" ",Gt(24,7,e.bookingDetails.departureDate),""),s(5),h(" ",e.bookingDetails.passengers,""),s(4),h(" \u20B9",e.bookingDetails.totalPrice,""),s(4),B(e.bookingDetails.sessionUrl?36:37)}}function Ha(n,t){if(n&1){let e=w();r(0,"div",7)(1,"div",8)(2,"h2"),a(3,"Flight Details"),o()(),r(4,"div",9)(5,"div",1)(6,"div",10)(7,"p")(8,"strong"),a(9,"From:"),o(),a(10),o(),r(11,"p")(12,"strong"),a(13,"To:"),o(),a(14),o(),r(15,"p")(16,"strong"),a(17,"Flight Number:"),o(),a(18),o()(),r(19,"div",10)(20,"p")(21,"strong"),a(22,"Departure Time:"),o(),a(23),o(),r(24,"p")(25,"strong"),a(26,"Arrival Time:"),o(),a(27),o(),r(28,"p")(29,"strong"),a(30,"Price per person:"),o(),a(31),o()()()()(),r(32,"div",11)(33,"div",8)(34,"h3"),a(35,"Booking Information"),o()(),r(36,"div",9)(37,"form",12),p("ngSubmit",function(){_(e);let l=g();return C(l.onSubmit())}),r(38,"div",13)(39,"div",10)(40,"label",14),a(41,"First Name"),o(),c(42,"input",15),o(),r(43,"div",10)(44,"label",14),a(45,"Last Name"),o(),c(46,"input",16),o(),r(47,"div",10)(48,"label",14),a(49,"Email"),o(),c(50,"input",17),o(),r(51,"div",10)(52,"label",14),a(53,"Phone"),o(),c(54,"input",18),o(),r(55,"div",10)(56,"label",14),a(57,"Departure Date"),o(),c(58,"input",19),o(),r(59,"div",10)(60,"label",14),a(61,"Number of Passengers"),o(),c(62,"input",20),o(),r(63,"div",21)(64,"label",14),a(65,"Special Requests"),o(),c(66,"textarea",22),o(),r(67,"div",21)(68,"h4"),a(69),o()(),r(70,"div",23)(71,"button",24),a(72," Proceed to Payment "),o()()()()()(),b(73,Ta,39,9)}if(n&2){let e=g();s(10),h(" ",e.flight.departureCity,""),s(4),h(" ",e.flight.destinationCity,""),s(4),h(" ",e.flight.flightNumber,""),s(5),h(" ",e.flight.departureTime,""),s(4),h(" ",e.flight.arrivalTime,""),s(4),h(" \u20B9",e.flight.price,""),s(6),m("formGroup",e.bookingForm),s(32),h("Total Price: \u20B9",e.calculateTotalPrice(),""),s(2),m("disabled",e.bookingForm.invalid||e.isLoading),s(2),B(e.showConfirmationPopup?73:-1)}}var Nn=class n{constructor(t,e,i,l,d,f){this.route=t;this.router=e;this.flightService=i;this.paymentService=l;this.authService=d;this.fb=f;this.initForm()}flightId;flight;bookingForm;isLoading=!1;errorMessage="";successMessage="";destroy$=new Ne;showConfirmationPopup=!1;bookingDetails={};userId;initForm(){this.bookingForm=this.fb.group({departureDate:["",v.required],passengers:[1,[v.required,v.min(1)]],firstName:["",[v.required,v.minLength(2)]],lastName:["",[v.required,v.minLength(2)]],email:["",[v.required,v.email]],phone:["",[v.required,v.pattern(/^\+?[0-9]{10,12}$/)]],specialRequests:[""]})}ngOnInit(){let t=localStorage.getItem("token");if(!t){this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}});return}try{let e=JSON.parse(atob(t.split(".")[1]));this.userId=e.userId,console.log("User ID from token:",this.userId)}catch(e){console.error("Error decoding token:",e),this.router.navigate(["/login"]);return}this.route.params.pipe(Ie(this.destroy$)).subscribe(e=>{this.flightId=+e.id,this.loadFlightDetails()})}loadFlightDetails(){this.isLoading=!0,this.flightService.getFlightById(this.flightId).pipe(Ie(this.destroy$)).subscribe({next:t=>{this.flight=t,this.isLoading=!1},error:t=>{this.errorMessage="Error loading flight details",this.isLoading=!1,console.error("Error:",t)}})}onSubmit(){if(this.bookingForm.invalid||this.isLoading){this.bookingForm.markAllAsTouched();return}this.bookingDetails={flightNumber:this.flight?.flightNumber,departureCity:this.flight?.departureCity,destinationCity:this.flight?.destinationCity,email:this.bookingForm.value.email,departureDate:this.bookingForm.value.departureDate,passengers:this.bookingForm.value.passengers,phone:this.bookingForm.value.phone,specialRequests:this.bookingForm.value.specialRequests,totalPrice:this.calculateTotalPrice()},this.showConfirmationPopup=!0}confirmBooking(){this.isLoading=!0,this.clearMessages();let t=new Date(this.bookingForm.value.departureDate).toISOString().split("T")[0];this.paymentService.bookFlight(this.userId,this.bookingForm.value.email,this.flightId,t,this.bookingForm.value.passengers).subscribe({next:e=>{console.log("Payment Response:",e),this.isLoading=!1,e.sessionUrl?window.location.href=e.sessionUrl:this.errorMessage="Payment session URL not received"},error:e=>{this.isLoading=!1,this.errorMessage="Failed to initiate payment. Please try again.",console.error("Payment error:",e),this.showConfirmationPopup=!1}})}calculateTotalPrice(){if(!this.flight?.price)return 0;let t=Number(this.bookingForm.get("passengers")?.value)||1;return isNaN(t)||t<1?0:this.flight.price*t}closePopup(){this.showConfirmationPopup=!1}clearMessages(){this.errorMessage="",this.successMessage=""}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(u(Fe),u(W),u(Le),u(bt),u(Q),u(G))};static \u0275cmp=x({type:n,selectors:[["app-flight-booking"]],decls:6,vars:3,consts:[[1,"container","my-4"],[1,"row"],[1,"col-md-8","mx-auto"],[1,"text-center"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"col-md-6"],[1,"card"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","tel","formControlName","phone",1,"form-control"],["type","date","formControlName","departureDate",1,"form-control"],["type","number","formControlName","passengers","min","1",1,"form-control"],[1,"col-12"],["formControlName","specialRequests","rows","3",1,"form-control"],[1,"col-12","text-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"modal","d-block"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["target","_blank",1,"btn","btn-primary",3,"href"],["type","button",1,"btn","btn-primary"],[1,"modal-backdrop","show"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),b(3,Da,4,0,"div",3)(4,Va,2,1,"div",4)(5,Ha,74,10),o()()()),e&2&&(s(3),B(i.isLoading?3:-1),s(),B(i.errorMessage?4:-1),s(),B(i.flight?5:-1))},dependencies:[y,Ee,z,E,M,J,k,P,ke,j,L],styles:[".card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.card-img-top[_ngcontent-%COMP%]{height:200px;object-fit:cover;border-bottom:1px solid #dee2e6}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px}footer[_ngcontent-%COMP%]{border-top:3px solid #0d6efd}.card[_ngcontent-%COMP%]{border-radius:12px;border:none;background-color:#fff;box-shadow:0 8px 16px #0003;transition:transform .3s ease,box-shadow .3s ease,background-color .3s ease;animation:cardFadeIn 1s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0000004d;background-color:#f8f9fa}.card-body[_ngcontent-%COMP%]{padding:20px}h5[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.text-muted[_ngcontent-%COMP%]{font-size:.9rem}.list-unstyled[_ngcontent-%COMP%]{margin:0;padding:0}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:10px}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.border-top[_ngcontent-%COMP%]{border-top:1px solid #dee2e6}.fw-bold[_ngcontent-%COMP%]{font-weight:700}.itinerary-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 8px 16px #0003;padding:20px}.airline-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.location[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#333}.time[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d}.dotted-line[_ngcontent-%COMP%]{border-top:2px dotted #007bff;position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);z-index:1}.flight-logo[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}@keyframes _ngcontent-%COMP%_flightAnimation{0%{left:0%}to{left:100%}}.animate-flight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flightAnimation 5s linear infinite}"]})};var le=class n{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){let i=t.data.roles,l=this.authService.isLoggedIn(),d=this.authService.getCurrentUserRole();return l?i&&!i.includes(d)?(this.router.navigate(["/unauthorized"]),!1):!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||n)(Ce(Q),Ce(W))};static \u0275prov=be({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rn=class n{constructor(t,e){this.authService=t;this.router=e}goToHomeOrDashboard(){let t=this.authService.getCurrentUserRole();t==="ADMIN"?this.router.navigate(["/admin-dashboard"]):t==="HOTELMANAGER"?this.router.navigate(["/manager-dashboard"]):t==="TRAVELAGENT"?this.router.navigate(["/travel-agent-dashboard"]):this.router.navigate(["/Home"])}static \u0275fac=function(e){return new(e||n)(u(Q),u(W))};static \u0275cmp=x({type:n,selectors:[["app-unauthorized"]],decls:7,vars:0,consts:[[1,"unauthorized-container","text-center","mt-5"],[1,"text-danger","mb-3"],[1,"lead","mb-4"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),a(2,"Unauthorized Access"),o(),r(3,"p",2),a(4,"You do not have permission to view this page."),o(),r(5,"button",3),p("click",function(){return i.goToHomeOrDashboard()}),a(6,"Go to Home"),o()())},styles:[".unauthorized-container[_ngcontent-%COMP%]{max-width:400px;margin:80px auto;padding:32px 24px;background:#fff;border-radius:12px;box-shadow:0 4px 24px #00000014}.text-danger[_ngcontent-%COMP%]{color:#dc3545}"]})};var Tn=class n{constructor(t){this.authService=t}userEmail="";userRole="";userId=null;ngOnInit(){this.userRole=this.authService.getCurrentUserRole(),this.userId=this.authService.getCurrentUserId(),this.userId&&this.authService.getUserById(this.userId).subscribe({next:t=>{console.log("User API response:",t),this.userEmail=t?.email||t?.userEmail||t?.mail||"Not available"},error:t=>{console.error("User fetch error:",t),this.userEmail="Not available"}})}static \u0275fac=function(e){return new(e||n)(u(Q))};static \u0275cmp=x({type:n,selectors:[["app-profile"]],decls:20,vars:3,consts:[[1,"profile-container","mx-auto","mt-5","shadow","rounded","p-4","bg-white",2,"max-width","400px"],[1,"text-center","mb-4"],[1,"fas","fa-user-circle","fa-4x","text-primary","mb-2"],[1,"mb-0"],[1,"text-muted"],[1,"list-group","list-group-flush"],[1,"list-group-item"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1),c(2,"i",2),r(3,"h3",3),a(4,"Your Profile"),o(),r(5,"small",4),a(6,"Account Details"),o()(),r(7,"ul",5)(8,"li",6)(9,"strong"),a(10,"Email:"),o(),a(11),o(),r(12,"li",6)(13,"strong"),a(14,"Role:"),o(),a(15),o(),r(16,"li",6)(17,"strong"),a(18,"User ID:"),o(),a(19),o()()()),e&2&&(s(11),h(" ",i.userEmail,""),s(4),h(" ",i.userRole,""),s(4),h(" ",i.userId,""))},styles:[".profile-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e0e7ff,#fff);border-radius:16px;box-shadow:0 4px 24px #0000001a;padding:32px 24px}.text-primary[_ngcontent-%COMP%]{color:#4f46e5!important}h3[_ngcontent-%COMP%]{color:#3b3b3b}.list-group-item[_ngcontent-%COMP%]{font-size:1.1rem;border:none;border-bottom:1px solid #f0f0f0;background:transparent}.list-group-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#4f46e5}.list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:none}"]})};function Ua(n,t){if(n&1){let e=w();r(0,"div",24)(1,"div",25)(2,"div",26)(3,"h5",27),a(4),o(),r(5,"p",28),a(6),o(),r(7,"p",28),a(8),o(),r(9,"p",28),a(10),o(),r(11,"p",29),a(12),o(),r(13,"div",30)(14,"input",31),V("ngModelChange",function(l){let d=_(e).$implicit;return D(d.packageId,l)||(d.packageId=l),C(l)}),o(),r(15,"button",32),p("click",function(){let l=_(e).$implicit,d=g(2);return C(d.addToPackage(l))}),a(16,"Add to Package"),o()()()()()}if(n&2){let e=t.$implicit;s(4),h("Hotel Name: ",e.hotel.name,""),s(2),h("Hotel Location: ",e.hotel.location,""),s(2),h("Rating: ",e.hotel.rating," \u2605"),s(2),h("Rooms Available: ",e.hotel.roomsAvailable,""),s(2),h("Price: \u20B9",e.hotel.pricePerNight,""),s(2),nt("name","packageId-",e.hotel.hotelId,""),I("ngModel",e.packageId)}}function Ba(n,t){if(n&1&&(r(0,"div")(1,"div",22),b(2,Ua,17,8,"div",23),o()()),n&2){let e=g();s(2),m("ngForOf",e.availableHotels)}}function ja(n,t){n&1&&(r(0,"div",33),a(1,"No hotels found for the specified criteria."),o())}function La(n,t){if(n&1){let e=w();r(0,"li",37),a(1),r(2,"button",38),p("click",function(){let l=_(e).$implicit,d=g(2);return C(d.removeFromPackage(l))}),a(3,"Remove"),o()()}if(n&2){let e=t.$implicit;s(),h(" ",e.name," ")}}function Ga(n,t){if(n&1){let e=w();r(0,"div")(1,"ul",34),b(2,La,4,1,"li",35),o(),r(3,"button",36),p("click",function(){_(e);let l=g();return C(l.savePackage())}),a(4,"Save Package"),o()()}if(n&2){let e=g();s(2),m("ngForOf",e.selectedHotels)}}function za(n,t){n&1&&(r(0,"div",39),a(1,"No hotels selected for the package."),o())}var Hn=class n{constructor(t,e){this.hotelService=t;this.http=e}location="";checkIn="";checkOut="";guestsRooms="";availableHotels=[];selectedHotels=[];isLoading=!1;errorMessage="";isHotelsFormVisible=!1;ngOnInit(){}toggleHotelsForm(){this.isHotelsFormVisible=!this.isHotelsFormVisible}onSearch(){if(!this.location||!this.checkIn||!this.checkOut||!this.guestsRooms){alert("Please fill in all the required fields.");return}this.isLoading=!0,this.errorMessage="",this.hotelService.getAvailableHotels(this.location,this.checkIn).subscribe({next:t=>{console.log("Hotels fetched:",t),this.availableHotels=t,this.isHotelsFormVisible=!0,this.isLoading=!1},error:t=>{this.errorMessage="Failed to fetch hotel availability. Please try again.",this.isLoading=!1,console.error("Error fetching hotels:",t)}})}addToPackage(t){if(!t.packageId){alert("Please enter a Package ID.");return}let e=t.packageId,i=t.hotel.hotelId,l=t.id;console.log(l);let d=`http://localhost:9070/packages/${e}/hotels/${i}/${l}`;this.http.post(d,{}).subscribe({next:()=>{alert(`Hotel "${t.hotel.name}" added to package ID ${e} successfully!`),this.selectedHotels.push(de(ee({},t.hotel),{packageId:e}))},error:f=>{alert("Failed to add hotel to the package."),console.error("Error adding hotel:",f)}})}removeFromPackage(t){this.selectedHotels=this.selectedHotels.filter(e=>e!==t)}savePackage(){console.log("Selected Hotels:",this.selectedHotels),alert("Hotels added to the package successfully!")}static \u0275fac=function(e){return new(e||n)(u(ge),u(H))};static \u0275cmp=x({type:n,selectors:[["app-add-hotels-to-package"]],decls:45,vars:9,consts:[["searchForm","ngForm"],["noHotels",""],["noSelectedHotels",""],[1,"container","my-4"],[1,"text-center","mb-4"],[1,"bg-white","p-4","rounded","shadow","mx-auto",2,"max-width","1100px",3,"ngSubmit"],[1,"row","align-items-end","g-3"],[1,"col-md-3"],[1,"form-label","fw-bold"],["type","text","name","location","placeholder","Enter city or location","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","checkIn","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","checkOut","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],["name","guestsRooms","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","1|1"],["value","2|1"],["value","2|2"],["value","4|2"],[1,"col-md-1","d-flex","align-items-end"],["type","submit",1,"btn","btn-warning","w-100","py-2",3,"disabled"],[1,"mt-4"],[4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-text","text-muted"],[1,"input-group"],["type","text","placeholder","Enter Package ID",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"btn","btn-primary",3,"click"],[1,"alert","alert-warning","text-center"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-3",3,"click"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"alert","alert-info","text-center"]],template:function(e,i){if(e&1){let l=w();r(0,"div",3)(1,"h2",4),a(2,"Add Hotels to Package"),o(),r(3,"form",5,0),p("ngSubmit",function(){return _(l),C(i.onSearch())}),r(5,"div",6)(6,"div",7)(7,"label",8),a(8,"Where to"),o(),r(9,"input",9),V("ngModelChange",function(f){return _(l),D(i.location,f)||(i.location=f),C(f)}),o()(),r(10,"div",7)(11,"label",8),a(12,"Check-in"),o(),r(13,"input",10),V("ngModelChange",function(f){return _(l),D(i.checkIn,f)||(i.checkIn=f),C(f)}),o()(),r(14,"div",7)(15,"label",8),a(16,"Check-out"),o(),r(17,"input",11),V("ngModelChange",function(f){return _(l),D(i.checkOut,f)||(i.checkOut=f),C(f)}),o()(),r(18,"div",12)(19,"label",8),a(20,"Guests & Rooms"),o(),r(21,"select",13),V("ngModelChange",function(f){return _(l),D(i.guestsRooms,f)||(i.guestsRooms=f),C(f)}),r(22,"option",14),a(23,"1 Adult | 1 Room"),o(),r(24,"option",15),a(25,"2 Adults | 1 Room"),o(),r(26,"option",16),a(27,"2 Adults | 2 Rooms"),o(),r(28,"option",17),a(29,"4 Adults | 2 Rooms"),o()()(),r(30,"div",18)(31,"button",19),a(32,"Search"),o()()()(),r(33,"div",20)(34,"h3"),a(35,"Available Hotels"),o(),b(36,Ba,3,1,"div",21)(37,ja,2,0,"ng-template",null,1,ce),o(),r(39,"div",20)(40,"h3"),a(41,"Selected Hotels"),o(),b(42,Ga,5,1,"div",21)(43,za,2,0,"ng-template",null,2,ce),o()()}if(e&2){let l=re(4),d=re(38),f=re(44);s(9),I("ngModel",i.location),s(4),I("ngModel",i.checkIn),s(4),I("ngModel",i.checkOut),s(4),I("ngModel",i.guestsRooms),s(10),m("disabled",!l.valid),s(5),m("ngIf",i.availableHotels.length>0)("ngIfElse",d),s(6),m("ngIf",i.selectedHotels.length>0)("ngIfElse",f)}},dependencies:[y,$,R,ae,E,mt,pt,M,je,k,P,X,pe,me],encapsulation:2})};function qa(n,t){if(n&1){let e=w();r(0,"div",18)(1,"div",19)(2,"div",20)(3,"p",21),a(4),o(),r(5,"p",21),a(6),o(),r(7,"p",21),a(8),o(),r(9,"p",22),a(10),o(),r(11,"div",23)(12,"input",24),V("ngModelChange",function(l){let d=_(e).$implicit;return D(d.packageId,l)||(d.packageId=l),C(l)}),o(),r(13,"button",25),p("click",function(){let l=_(e).$implicit,d=g(2);return C(d.addToPackage(l))}),a(14,"Add to Package"),o()()()()()}if(n&2){let e=t.$implicit;s(4),h("From: ",e.flight.departureCity,""),s(2),h("To: ",e.flight.destinationCity,""),s(2),h("Date: ",e.date,""),s(2),h("Price: \u20B9",e.flight.price,""),s(2),nt("name","packageId-",e.flight.id,""),I("ngModel",e.packageId)}}function $a(n,t){if(n&1&&(r(0,"div")(1,"div",16),b(2,qa,15,7,"div",17),o()()),n&2){let e=g();s(2),m("ngForOf",e.availableFlights)}}function Wa(n,t){n&1&&(r(0,"div",26),a(1,"No flights found for the specified criteria."),o())}function Ya(n,t){if(n&1){let e=w();r(0,"li",30),a(1),r(2,"button",31),p("click",function(){let l=_(e).$implicit,d=g(2);return C(d.removeFromPackage(l))}),a(3,"Remove"),o()()}if(n&2){let e=t.$implicit;s(),Se(" ",e.departureCity," \u2192 ",e.destinationCity," ")}}function Ja(n,t){if(n&1){let e=w();r(0,"div")(1,"ul",27),b(2,Ya,4,2,"li",28),o(),r(3,"button",29),p("click",function(){_(e);let l=g();return C(l.savePackage())}),a(4,"Save Package"),o()()}if(n&2){let e=g();s(2),m("ngForOf",e.selectedFlights)}}function Za(n,t){n&1&&(r(0,"div",32),a(1,"No flights selected for the package."),o())}var Un=class n{constructor(t,e){this.flightService=t;this.http=e}from="";to="";departureDate="";travelers="1 Adult";availableFlights=[];selectedFlights=[];isLoading=!1;errorMessage="";ngOnInit(){}onSearch(){if(!this.from||!this.to||!this.departureDate){alert("Please fill in all the required fields.");return}this.isLoading=!0,this.errorMessage="",this.flightService.searchFlights(this.from,this.to,this.departureDate).subscribe({next:t=>{console.log("Flights fetched:",t),this.availableFlights=t,this.isLoading=!1},error:t=>{this.errorMessage="Failed to fetch flight availability. Please try again.",this.isLoading=!1,console.error("Error fetching flights:",t)}})}addToPackage(t){if(!t.packageId){alert("Please enter a Package ID.");return}let e=t.packageId,i=t.flight.id,l=t.date,d="http://localhost:9070/packages/addFlightToPackage",f=new He().set("packageId",e).set("flightId",i).set("date",l);console.log(i,l),this.http.post(d,{},{params:f}).subscribe({next:()=>{alert(`Flight "${i}" added to package ID ${e} successfully!`),this.selectedFlights.push(t.flight,e)},error:F=>{alert("Failed to add flight to the package."),console.error("Error adding flight:",F)}})}removeFromPackage(t){this.selectedFlights=this.selectedFlights.filter(e=>e!==t)}savePackage(){console.log("Selected Flights:",this.selectedFlights),alert("Flights added to the package successfully!")}static \u0275fac=function(e){return new(e||n)(u(Le),u(H))};static \u0275cmp=x({type:n,selectors:[["app-add-flight-to-package"]],decls:33,vars:8,consts:[["searchForm","ngForm"],["noFlights",""],["noSelectedFlights",""],[1,"container","my-4"],[1,"text-center","mb-4"],[1,"bg-white","p-4","rounded","shadow","mx-auto",2,"max-width","1100px",3,"ngSubmit"],[1,"row","align-items-end","g-3"],[1,"col-md-3"],[1,"form-label","fw-bold"],["type","text","name","from","placeholder","Enter departure city","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","to","placeholder","Enter destination city","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","departureDate","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3","d-flex","align-items-end"],["type","submit",1,"btn","btn-warning","w-100","py-2",3,"disabled"],[1,"mt-4"],[4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[1,"card"],[1,"card-body"],[1,"card-text"],[1,"card-text","text-muted"],[1,"input-group","mb-3"],["type","text","placeholder","Enter Package ID",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"btn","btn-primary",3,"click"],[1,"alert","alert-warning","text-center"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-3",3,"click"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"alert","alert-info","text-center"]],template:function(e,i){if(e&1){let l=w();r(0,"div",3)(1,"h2",4),a(2,"Add Flights to Package"),o(),r(3,"form",5,0),p("ngSubmit",function(){return _(l),C(i.onSearch())}),r(5,"div",6)(6,"div",7)(7,"label",8),a(8,"From"),o(),r(9,"input",9),V("ngModelChange",function(f){return _(l),D(i.from,f)||(i.from=f),C(f)}),o()(),r(10,"div",7)(11,"label",8),a(12,"To"),o(),r(13,"input",10),V("ngModelChange",function(f){return _(l),D(i.to,f)||(i.to=f),C(f)}),o()(),r(14,"div",7)(15,"label",8),a(16,"Departure Date"),o(),r(17,"input",11),V("ngModelChange",function(f){return _(l),D(i.departureDate,f)||(i.departureDate=f),C(f)}),o()(),r(18,"div",12)(19,"button",13),a(20,"Search"),o()()()(),r(21,"div",14)(22,"h3"),a(23,"Available Flights"),o(),b(24,$a,3,1,"div",15)(25,Wa,2,0,"ng-template",null,1,ce),o(),r(27,"div",14)(28,"h3"),a(29,"Selected Flights"),o(),b(30,Ja,5,1,"div",15)(31,Za,2,0,"ng-template",null,2,ce),o()()}if(e&2){let l=re(4),d=re(26),f=re(32);s(9),I("ngModel",i.from),s(4),I("ngModel",i.to),s(4),I("ngModel",i.departureDate),s(2),m("disabled",!l.valid),s(5),m("ngIf",i.availableFlights.length>0)("ngIfElse",d),s(6),m("ngIf",i.selectedFlights.length>0)("ngIfElse",f)}},dependencies:[ae,E,M,k,P,X,pe,me,y,$,R],encapsulation:2})};function Ka(n,t){if(n&1){let e=w();r(0,"div",17)(1,"div",18)(2,"div",19)(3,"h5",20),a(4),o(),r(5,"p",21),a(6),o(),r(7,"p",22),a(8),o(),r(9,"div",23)(10,"input",24),V("ngModelChange",function(l){let d=_(e).$implicit;return D(d.packageId,l)||(d.packageId=l),C(l)}),o(),r(11,"button",25),p("click",function(){let l=_(e).$implicit,d=g(2);return C(d.addToPackage(l))}),a(12,"Add to Package"),o()()()()()}if(n&2){let e=t.$implicit;s(4),O(e.name),s(2),O(e.description),s(2),h("Price: \u20B9",e.price,""),s(2),nt("name","packageId-",e.id,""),I("ngModel",e.packageId)}}function Qa(n,t){if(n&1&&(r(0,"div")(1,"div",15),b(2,Ka,13,6,"div",16),o()()),n&2){let e=g();s(2),m("ngForOf",e.availableActivities)}}function Xa(n,t){n&1&&(r(0,"div",26),a(1,"No activities found for the specified criteria."),o())}function el(n,t){if(n&1){let e=w();r(0,"li",30),a(1),r(2,"button",31),p("click",function(){let l=_(e).$implicit,d=g(2);return C(d.removeFromPackage(l))}),a(3,"Remove"),o()()}if(n&2){let e=t.$implicit;s(),h(" ",e.name," ")}}function tl(n,t){if(n&1){let e=w();r(0,"div")(1,"ul",27),b(2,el,4,1,"li",28),o(),r(3,"button",29),p("click",function(){_(e);let l=g();return C(l.savePackage())}),a(4,"Save Package"),o()()}if(n&2){let e=g();s(2),m("ngForOf",e.selectedActivities)}}function nl(n,t){n&1&&(r(0,"div",32),a(1,"No activities selected for the package."),o())}var Bn=class n{constructor(t){this.http=t}location="";date="";availableActivities=[];selectedActivities=[];isLoading=!1;errorMessage="";ngOnInit(){}onSearch(){if(!this.location){alert("Please enter a location.");return}let t=`http://localhost:9070/activities/GetActivityByLocation?location=${this.location}`;this.isLoading=!0,this.errorMessage="",this.http.get(t).subscribe({next:e=>{this.availableActivities=e,this.isLoading=!1},error:e=>{this.errorMessage="Failed to fetch activity availability. Please try again.",this.isLoading=!1,console.error("Error fetching activities:",e)}})}addToPackage(t){if(!t.packageId){alert("Please enter a Package ID.");return}let e=`http://localhost:9070/packages/${t.packageId}/activities/${t.activityId}`;this.http.post(e,{}).subscribe({next:()=>{alert(`Activity "${t.name}" added to package ID ${t.packageId} successfully!`),this.selectedActivities.push(t)},error:i=>{alert("Failed to add activity to the package."),console.error("Error adding activity:",i)}})}removeFromPackage(t){this.selectedActivities=this.selectedActivities.filter(e=>e!==t)}savePackage(){console.log("Selected Activities:",this.selectedActivities),alert("Activities added to the package successfully!")}static \u0275fac=function(e){return new(e||n)(u(H))};static \u0275cmp=x({type:n,selectors:[["app-add-activity-to-package"]],decls:29,vars:7,consts:[["searchForm","ngForm"],["noActivities",""],["noSelectedActivities",""],[1,"container","my-4"],[1,"text-center","mb-4"],[1,"bg-white","p-4","rounded","shadow","mx-auto",2,"max-width","1100px",3,"ngSubmit"],[1,"row","align-items-end","g-3"],[1,"col-md-4"],[1,"form-label","fw-bold"],["type","text","name","location","placeholder","Enter city or location","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2","d-flex","align-items-end"],["type","submit",1,"btn","btn-warning","w-100","py-2",3,"disabled"],[1,"mt-4"],[4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-text","text-muted"],[1,"input-group","mb-3"],["type","text","placeholder","Enter Package ID",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"btn","btn-primary",3,"click"],[1,"alert","alert-warning","text-center"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-3",3,"click"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"alert","alert-info","text-center"]],template:function(e,i){if(e&1){let l=w();r(0,"div",3)(1,"h2",4),a(2,"Add Activities to Package"),o(),r(3,"form",5,0),p("ngSubmit",function(){return _(l),C(i.onSearch())}),r(5,"div",6)(6,"div",7)(7,"label",8),a(8,"Location"),o(),r(9,"input",9),V("ngModelChange",function(f){return _(l),D(i.location,f)||(i.location=f),C(f)}),o()(),r(10,"div",7)(11,"label",8),a(12,"Date"),o(),r(13,"input",10),V("ngModelChange",function(f){return _(l),D(i.date,f)||(i.date=f),C(f)}),o()(),r(14,"div",11)(15,"button",12),a(16,"Search"),o()()()(),r(17,"div",13)(18,"h3"),a(19,"Available Activities"),o(),b(20,Qa,3,1,"div",14)(21,Xa,2,0,"ng-template",null,1,ce),o(),r(23,"div",13)(24,"h3"),a(25,"Selected Activities"),o(),b(26,tl,5,1,"div",14)(27,nl,2,0,"ng-template",null,2,ce),o()()}if(e&2){let l=re(4),d=re(22),f=re(28);s(9),I("ngModel",i.location),s(4),I("ngModel",i.date),s(2),m("disabled",!l.valid),s(5),m("ngIf",i.availableActivities.length>0)("ngIfElse",d),s(6),m("ngIf",i.selectedActivities.length>0)("ngIfElse",f)}},dependencies:[y,$,R,ae,E,M,k,P,X,pe,me],encapsulation:2})};var jn=[{path:"",redirectTo:"Home",pathMatch:"full"},{path:"Home",component:cn},{path:"flights",component:gt},{path:"flight-booking/:id",component:Nn},{path:"reviews",component:mn},{path:"reviews/new",component:Ot},{path:"reviews/:id",component:pn},{path:"reviews/edit/:id",component:Ot},{path:"hotels",component:ut},{path:"itinerary/:packageId",component:Mn},{path:"packages",component:ft},{path:"login",component:un},{path:"signup",component:gn},{path:"admin-dashboard",component:vn,canActivate:[le],data:{roles:["ADMIN"]}},{path:"manager-dashboard",component:yn,canActivate:[le],data:{roles:["HOTELMANAGER"]}},{path:"hotels/:id/reviews",component:vt},{path:"hotel-booking/:id",component:wn},{path:"travel-agent-dashboard",component:Sn,canActivate:[le],data:{roles:["TRAVELAGENT"]},children:[{path:"app-add-hotels-to-package",component:Hn,canActivate:[le],data:{roles:["TRAVELAGENT"]}},{path:"app-add-flight-to-package",component:Un,canActivate:[le],data:{roles:["TRAVELAGENT"]}},{path:"app-add-activity-to-package",component:Bn,canActivate:[le],data:{roles:["TRAVELAGENT"]}},{path:"packages",component:kn,canActivate:[le],data:{roles:["TRAVELAGENT"]},children:[{path:"add",component:Pn,canActivate:[le],data:{roles:["TRAVELAGENT"]}},{path:"manage",component:En,canActivate:[le],data:{roles:["TRAVELAGENT"]}}]},{path:"activities",component:Fn,canActivate:[le],data:{roles:["TRAVELAGENT"]},children:[{path:"add",component:On,canActivate:[le],data:{roles:["TRAVELAGENT"]}},{path:"manage",component:An,canActivate:[le],data:{roles:["TRAVELAGENT"]}}]},{path:"flightsComponent",component:Vn,canActivate:[le],data:{roles:["TRAVELAGENT"]},children:[{path:"add",component:In,canActivate:[le],data:{roles:["TRAVELAGENT"]}},{path:"manage",component:Dn,canActivate:[le],data:{roles:["TRAVELAGENT"]}}]}]},{path:"payment-success",loadComponent:()=>import("./chunk-ARNWF5WN.js").then(n=>n.PaymentSuccessComponent)},{path:"profile",component:Tn,canActivate:[le]},{path:"unauthorized",component:Rn},{path:"**",redirectTo:"Home"}];var no={providers:[gi({eventCoalescing:!0}),Wt(jn)]};var It=class n{title="Travel-ManageMent";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&c(0,"router-outlet")},dependencies:[Oe,y],encapsulation:2})};qn(It,no).catch(n=>console.error(n));qn(It,{providers:[Wt(jn),bi()]}).catch(n=>console.error(n));
